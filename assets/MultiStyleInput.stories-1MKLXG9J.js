import{f as A}from"./index-Dj6nxAlZ.js";import{j as M}from"./jsx-runtime-DFKZ3ixi.js";import{R as h,r as O}from"./index-SSXOyoI7.js";const De="_enhancedInput_8fybe_1",_e="_editArea_8fybe_12",ue={enhancedInput:De,editArea:_e},ce=e=>{let t;const o=new Set,a=(f,S)=>{const D=typeof f=="function"?f(t):f;if(!Object.is(D,t)){const w=t;t=S??(typeof D!="object"||D===null)?D:Object.assign({},t,D),o.forEach(c=>c(t,w))}},d=()=>t,p={setState:a,getState:d,getInitialState:()=>i,subscribe:f=>(o.add(f),()=>o.delete(f))},i=t=e(a,d,p);return p},Ne=e=>e?ce(e):ce,Me=e=>e;function xe(e,t=Me){const o=h.useSyncExternalStore(e.subscribe,()=>t(e.getState()),()=>t(e.getInitialState()));return h.useDebugValue(o),o}const de=e=>{const t=Ne(e),o=a=>xe(t,a);return Object.assign(o,t),o},z=e=>e?de(e):de,Ce=h.createContext(),W=(e,t)=>{const o=e(h.useContext(Ce));if(o===null)throw new Error("useState must be used within StateProvider");return xe(o,t)},ie=e=>W(t=>t.configStore,e),le=e=>W(t=>t.decoratedBlockStore,e),ae=e=>W(t=>t.viewPortStore,e),we=e=>W(t=>t.managedStore,e),be=e=>W(t=>t.optionsStore,e),Pe="_editElement_1v3pw_1",Ie={editElement:Pe},Ve=(e,t)=>{h.useEffect(()=>{const o=new ResizeObserver(()=>{const{width:a,height:d}=(e==null?void 0:e.getBoundingClientRect())??{};t(a??0,d??0)});if(e){o.observe(e);const{width:a,height:d}=(e==null?void 0:e.getBoundingClientRect())??{};t(a??0,d??0)}return()=>{e&&o.unobserve(e)}},[e])},pe=(e,t)=>{for(let o=0;o<t.length;o+=1)if(o>e.length||o>t.length||e[o]!==t[o])return o;return t.length},fe=e=>{if(!e)return 0;const t=document.getSelection();if(t&&t.rangeCount>0){let o=0;const a=t.getRangeAt(0),d=(C,u)=>{for(let p=0;p<C.childNodes.length;p+=1){const i=C.childNodes[p];if(i===u)return o+a.endOffset+((i.textContent??"").trim()===`
`?1:0);if(i&&i.nodeName==="#text"){const f=(i.textContent??"").length;o+=f}if(i.childNodes.length>0){const f=d(i,u);if(f)return f}}return null};return d(e,a.endContainer)??0}return 0},qe=(e,t)=>{if(t!==-1){let o=0;const a=u=>{for(let p=0;p<u.childNodes.length;p+=1){const i=u.childNodes[p];if(i&&i.nodeName==="#text"){const f=(i.textContent??"").length;if(o+=f,t<o)return i}if(i.childNodes.length>0){const f=a(i);if(f)return f}}return null},d=a(e);if(d){const u=document.getSelection();u&&u.setPosition(d,t-(o-(d.textContent??"").length));return}const C=document.getSelection();if(C){const u=Se(e);u&&u.nodeName==="#text"&&C.setPosition(u,(u.textContent??"").length>0?(u.textContent??"").length:0)}}},Se=e=>{for(let t=e.childNodes.length-1;t>=0;t-=1){const o=e.childNodes[t];if(o.childNodes.length>0){const a=Se(o);if(a)return a}else if((o.textContent??"").length>0)return o}return null},Oe=(e,t)=>{if(t.length===0)return null;for(let o=1;;o+=1){if(t.length===o)return null;if(e.length===o||t[t.length-o]!==e[e.length-o])return t.length-(o-1)}},Ae=e=>{let t=0;for(let o=e.length-1;o>0&&e[o]===`
`;o-=1)t+=1;return t>2?e.substring(0,e.length-(t-2)):e},q={ArrowRight:"ArrowRight",ArrowLeft:"ArrowLeft",ArrowUp:"ArrowUp",ArrowDown:"ArrowDown",PageUp:"PageUp",PageDown:"PageDown",Home:"Home",End:"End",Enter:"Enter",Tab:"Tab",c:"c",C:"C",x:"x",X:"X",v:"v",V:"V",z:"z",Z:"Z",Space:" ",Escape:"Escape"},Y=h.memo(()=>{const e=h.useRef(null),{className:t,style:o,onItemSelected:a,onChange:d,onCaretPositionChange:C,onFocus:u,onBlur:p,onClick:i,onDoubleClick:f,onMouseDown:S,onMouseUp:D,onMouseEnter:w,onMouseLeave:c,onMouseOver:V,onKeyDown:E,onKeyUp:v}=ie(m=>m),{setPosition:_,setSize:T}=ae(m=>m),{parentElement:F,text:I,caretPosition:s,dropDown:n,setParantElement:r,updateText:l,updateCaretPosition:g}=le(m=>m),{activeOption:y,next:x,prev:N}=be(m=>m);Ve(e.current,T),h.useEffect(()=>{!F&&e.current&&r(e.current)},[F]);const R=h.useCallback(m=>{m&&r(m),e.current=m},[]),b=h.useCallback(()=>{var m;if(d){const P=Ae(((m=e.current)==null?void 0:m.textContent)??""),k=pe(I,P),H=fe(e.current);g(H),l(P),d(P,k)}},[d,l]),j=h.useCallback(()=>{e.current&&_(e.current.scrollTop,e.current.scrollLeft)},[_]),X=h.useCallback(m=>{m.clipboardData.types.includes("text/html")&&m.preventDefault()},[]),L=h.useCallback(m=>{const P=document.getSelection();if(P){const k=P.getRangeAt(0);if(k.startContainer!==k.endContainer||k.startOffset!==k.endOffset){m.clipboardData.setData("text/plain",P.toString()),m.preventDefault();return}}e.current&&(m.clipboardData.setData("text/plain",e.current.textContent??""),m.preventDefault())},[]),K=h.useCallback(m=>{const P=document.getSelection();if(P){const k=P.getRangeAt(0);if(k.startContainer!==k.endContainer||k.startOffset!==k.endOffset){const H=P.toString();m.clipboardData.setData("text/plain",H);const U=I.replace(H,"");if(l(U),d){const Z=pe(I,U);d(U,Z)}m.preventDefault()}}},[I,d]),B=h.useCallback(m=>{if((m.key===q.ArrowLeft||m.key===q.ArrowRight||m.key===q.ArrowUp||m.key===q.ArrowDown||m.key===q.Home||m.key===q.End||m.key===q.PageDown||m.key===q.PageUp)&&C){const P=fe(e.current);P!==s&&g(P)}v&&v(m)},[]),G=h.useCallback(m=>{let P=!1;switch(m.key){case q.Escape:break;case q.Z:case q.z:break;case q.ArrowUp:n&&(N(),P=!0);break;case q.ArrowDown:n&&(x(),P=!0);break;case q.Space:case q.Enter:n&&a&&(a(n.id??"",y),P=!0);break}P?(m.preventDefault(),m.stopPropagation()):E&&E(m)},[n,y,E,x,N,a]);return M.jsx("pre",{id:"si-edit-element",className:[Ie.editElement,t].join(" "),style:o,contentEditable:"true",ref:R,autoCapitalize:"none",autoCorrect:"off",spellCheck:"false",onInput:b,onScroll:j,onPaste:X,onCopy:L,onCut:K,onKeyUp:B,onKeyDown:G,onFocus:u,onBlur:p,onClick:i,onDoubleClick:f,onMouseDown:S,onMouseUp:D,onMouseEnter:w,onMouseLeave:c,onMouseOver:V})});try{Y.displayName="EditElement",Y.__docgenInfo={description:"",displayName:"EditElement",props:{}}}catch{}const Le="_dropDown_ypmzi_1",ke={dropDown:Le},Q=h.memo(()=>{const{DropDownComponent:e,onItemSelected:t}=ie(v=>v),{id:o,top:a,left:d,dropDown:{activation:C,options:u=[]}={}}=le(v=>v.dropDown)??{},{top:p,left:i}=ae(v=>v),{activeOptionIdx:f,setOptions:S,setActiveOption:D}=be(v=>v);h.useEffect(()=>{S(u)},[u]);const w=h.useCallback(()=>{},[C]),c=h.useCallback(()=>{},[C]),V=h.useCallback(v=>{t&&t(o??"",v)},[]),E=h.useCallback(v=>{D(v)},[]);return M.jsx("div",{className:ke.dropDown,style:{top:(a??0)-p,left:(d??0)-i},children:e&&M.jsx(e,{onMouseLeftDropDown:w,onMouseEnteredDropDown:c,options:u,onOptionSelected:V,activeIndex:f,onActiveOptionChanged:E})})});try{Q.displayName="DropDown",Q.__docgenInfo={description:"",displayName:"DropDown",props:{}}}catch{}const ee=h.memo(()=>{const{tabIndex:e,className:t,style:o}=ie(c=>c),{customElements:a,dropDown:d,caretPosition:C,update:u}=le(c=>c),{top:p,left:i,height:f}=ae(c=>c),{text:S,textBlocks:D}=we(c=>c);h.useEffect(()=>u(S,D),[S,D]);const w=h.useMemo(()=>a.filter(c=>c.top-p+c.height>=0&&c.top-i<=f),[a,f,p,i]);return M.jsx("div",{tabIndex:e??-1,id:"si-enhanced-Input",className:[ue.enhancedInput,t].join(" "),style:o,children:M.jsxs("div",{className:ue.editArea,children:[M.jsx(Y,{}),w.map(c=>M.jsx("div",{style:{position:"absolute",lineHeight:"normal",left:c.left-i,top:c.top-p,width:c.width,height:c.top-p+c.height<f?c.height:f-(c.top-p)},children:M.jsx(c.Decorator,{id:c.id,text:c.text,start:c.start,end:c.end,cursorPosition:C,textElement:c.textElement,customProps:c.customProps,style:c.decoratorStyle})},c.id)),d&&M.jsx(Q,{})]})})});try{ee.displayName="EnhancedInput",ee.__docgenInfo={description:"",displayName:"EnhancedInput",props:{}}}catch{}const Te=({tabIndex:e,className:t,style:o,DropDownComponent:a,onItemSelected:d,onChange:C,onCaretPositionChange:u,onFocus:p,onBlur:i,onClick:f,onDoubleClick:S,onMouseDown:D,onMouseUp:w,onMouseEnter:c,onMouseLeave:V,onMouseOver:E,onKeyDown:v,onKeyUp:_})=>z(()=>({tabIndex:e,className:t,style:o,DropDownComponent:a,onItemSelected:d,onChange:C,onCaretPositionChange:u,onFocus:p,onBlur:i,onClick:f,onDoubleClick:S,onMouseDown:D,onMouseUp:w,onMouseEnter:c,onMouseLeave:V,onMouseOver:E,onKeyDown:v,onKeyUp:_})),Re=({onBlockClick:e,onBlockDblClick:t,onBlockMouseDown:o,onBlockMouseUp:a,onBlockMouseEnter:d,onBlockMouseLeave:C,onBlockMouseOver:u})=>{const p=(s,n,r)=>({type:"t",start:s,end:n,text:r}),i=(s,n,r,l,g,y)=>({type:"s",start:s,end:n,text:r,id:l,style:g,existingStyle:y}),f=(s,n,r)=>{let l=0;return n.sort((y,x)=>y.start-x.start),s.split(`
`).map(y=>{let x=l;const N=n.filter(({start:R,length:b})=>R>=l&&R+b<=l+y.length).flatMap(({id:R,start:b,length:j,style:X})=>{const L=r.find(B=>B.id===R),K=[...b>x?[p(x,x+(b-x-1),y.substring(x-l,b-l))]:[],i(b,b+j-1,y.substring(b-l,b-l+j),R,X,L==null?void 0:L.style)];return x=b+j,K});return x<l+y.length?N.push(p(x,x+(y.length-(x-l)),`${y.substring(x-l)}
`)):N.push(p(x,x,`
`)),l+=y.length+1,N})},S=(s,n,r,l)=>{const g=f(n,r,l);let y=0;for(;y<g.length;){const x=g[y],N=y<s.childNodes.length?s.childNodes[y]:null;y===0&&s.childNodes.length>0&&N&&N.nodeName==="#text"?x.length===1&&x[0].type==="t"?N.textContent!==x[0].text&&(N.textContent=x[0].text):(D(s,x,N),s.removeChild(N)):N?N.nodeName!=="DIV"?(D(s,x,N),s.removeChild(N)):w(x,N):D(s,x),y+=1}for(;y<s.childNodes.length;)s.removeChild(s.childNodes[y])},D=(s,n,r=null)=>{const l=document.createElement("div");_(s,l,r),n.length===0?c(l,`
`):n.forEach(g=>{g.type==="t"?c(l,g.text):V(l,g)})},w=(s,n)=>{if(s.length===1&&s[0].type==="t"&&n.childNodes.length===1&&n.childNodes[0].nodeName==="#text"){n.childNodes[0].textContent!==s[0].text&&(n.childNodes[0].textContent=s[0].text);return}let r=0;for(;r<s.length;){const l=s[r],g=r<n.childNodes.length?n.childNodes[r]:null;l.type==="s"?g&&l.id!==g.id?E(n,r,l.id)?(n.removeChild(g),v(n.childNodes[r],l)):V(n,l,g):g&&g.id===l.id?v(g,l):V(n,l,g):g?n.nodeName!=="#text"?(c(n,l.text,g),n.removeChild(g)):g.textContent!==l.text&&(g.textContent=l.text):c(n,l.text,g),r+=1}for(;r<n.childNodes.length;)n.removeChild(n.childNodes[r])},c=(s,n,r=null)=>{const l=document.createTextNode(n);_(s,l,r)},V=(s,{id:n,text:r,style:l},g=null)=>{const y=document.createElement("span");y.textContent=r,y.id=n,l&&(y.style.cssText=l),_(s,y,g),T(y)},E=(s,n,r)=>s.childNodes.length>n+1&&"id"in s.childNodes[n+1]&&r===s.childNodes[n+1].id,v=(s,{text:n,style:r,existingStyle:l})=>{s.textContent!==n&&(s.textContent=n),r!==l&&(s.style.cssText=r??"")},_=(s,n,r=null)=>{r?s.insertBefore(n,r):s.appendChild(n)},T=s=>{const n=b=>({event:b,id:s.id,blockText:s.textContent??""}),r=b=>{e==null||e(n(b))},l=b=>{t==null||t(n(b))},g=b=>{o==null||o(n(b))},y=b=>{a==null||a(n(b))},x=b=>{d==null||d(n(b))},N=b=>{C==null||C(n(b))},R=b=>{u==null||u(n(b))};e&&s.addEventListener("click",r),t&&s.addEventListener("dblclick",l),o&&s.addEventListener("mousedown",g),a&&s.addEventListener("mouseup",y),d&&s.addEventListener("mouseenter",x),C&&s.addEventListener("mouseleave",N),u&&s.addEventListener("mouseover",R)},F=(s,n)=>{if(n.length===0)return!1;const{start:r,length:l}=n.sort((g,y)=>g.start-y.start)[n.length-1];return r+l+1>=s.length},I=(s,n)=>({top:s.offsetTop+(n?s.offsetHeight+2:0),left:s.offsetLeft,width:s.offsetWidth,height:s.offsetHeight});return z(s=>({text:"",textBlocks:[],parentElement:null,customElements:[],dropDown:null,caretPosition:0,setParantElement:n=>s(()=>({parentElement:n})),updateText:n=>s(()=>({text:n})),updateCaretPosition:n=>s(()=>({caretPosition:n})),update:(n,r)=>s(l=>{const{parentElement:g,text:y,textBlocks:x,caretPosition:N}=l;if(!g||y.length>1&&y===n&&JSON.stringify(x)===JSON.stringify(r)&&!F(y,x)&&y[y.length-1]!==`
`)return{};S(g,n,r,x);const R=Oe(y,n)??N;qe(g,R);const b=r.filter(L=>"Decorator"in L).map(L=>{const{id:K,start:B,length:G,Decorator:m,clasName:P,decoratorStyle:k,customProps:H}=L,U=document.getElementById(K);if(!U)return null;const Z=U.textContent??"";return{id:K,text:Z,start:B,end:B+Z.length,length:G,Decorator:m,textElement:U,clasName:P,decoratorStyle:k,customProps:H,...I(U,!1)}}).filter(L=>L!==null),{id:j,dropDown:X}=r.find(L=>"dropDown"in L)??{};return{text:n,textBlocks:r,customElements:b,dropDown:j?{id:j,dropDown:X,...I(document.getElementById(j),!0)}:null}})}))},je=()=>z(e=>({top:0,left:0,width:0,height:0,setPosition:(t,o)=>e(()=>({top:t,left:o})),setSize:(t,o)=>e(()=>({width:t,height:o}))})),Ue=({text:e,textBlocks:t})=>z(()=>({text:e,textBlocks:t})),Fe=()=>z(e=>({options:[],activeOption:"",activeOptionIdx:0,setOptions:t=>e(()=>({options:t,activeOption:t[0],activeOptionIdx:0})),setActiveOption:t=>e(o=>({activeOption:o.options[t],activeOptionIdx:t})),next:()=>e(t=>{const o=t.activeOptionIdx<t.options.length-1?t.activeOptionIdx+=1:0;return{activeOption:t.options[o],activeOptionIdx:o}}),prev:()=>e(t=>{const o=t.activeOptionIdx>0?t.activeOptionIdx-=1:t.options.length-1;return{activeOption:t.options[o],activeOptionIdx:o}})})),te=h.memo(({props:e,children:t})=>{const{onBlockClick:o,onBlockDblClick:a,onBlockMouseDown:d,onBlockMouseUp:C,onBlockMouseEnter:u,onBlockMouseLeave:p,onBlockMouseOver:i,onChange:f,text:S,textBlocks:D}=e,w=h.useMemo(()=>Te(e),[f]),c=h.useMemo(()=>Re(e),[o,a,d,C,u,p,i]),V=h.useMemo(je,[]),E=h.useMemo(()=>Ue(e),[S,D]),v=h.useMemo(Fe,[]),_=h.useMemo(()=>({configStore:w,decoratedBlockStore:c,viewPortStore:V,managedStore:E,optionsStore:v}),[w,c,V,E,v]);return M.jsx(Ce.Provider,{value:_,children:t})});try{te.displayName="StateProvider",te.__docgenInfo={description:"",displayName:"StateProvider",props:{props:{defaultValue:null,description:"",name:"props",required:!0,type:{name:"MultiStyleInputProps"}}}}}catch{}const ne=h.memo(e=>M.jsx(te,{props:e,children:M.jsx(ee,{})}));try{ne.displayName="MultiStyleInput",ne.__docgenInfo={description:"",displayName:"MultiStyleInput",props:{text:{defaultValue:null,description:"",name:"text",required:!0,type:{name:"string"}},textBlocks:{defaultValue:null,description:"",name:"textBlocks",required:!0,type:{name:"DecoratedBlock[]"}},tabIndex:{defaultValue:null,description:"",name:"tabIndex",required:!1,type:{name:"number"}},className:{defaultValue:null,description:"",name:"className",required:!1,type:{name:"string"}},style:{defaultValue:null,description:"",name:"style",required:!1,type:{name:"CSSProperties"}},DropDownComponent:{defaultValue:null,description:"",name:"DropDownComponent",required:!1,type:{name:"ComponentType<DropDownProps>"}},onItemSelected:{defaultValue:null,description:"",name:"onItemSelected",required:!1,type:{name:"((id: string, option: string) => void)"}},onChange:{defaultValue:null,description:"",name:"onChange",required:!1,type:{name:"((text: string, position: number) => void)"}},onCaretPositionChange:{defaultValue:null,description:"",name:"onCaretPositionChange",required:!1,type:{name:"((position: number) => void)"}},onFocus:{defaultValue:null,description:"",name:"onFocus",required:!1,type:{name:"((event: FocusEvent<Element, Element>) => void)"}},onBlur:{defaultValue:null,description:"",name:"onBlur",required:!1,type:{name:"((event: FocusEvent<Element, Element>) => void)"}},onClick:{defaultValue:null,description:"",name:"onClick",required:!1,type:{name:"((event: MouseEvent<Element, MouseEvent>) => void)"}},onDoubleClick:{defaultValue:null,description:"",name:"onDoubleClick",required:!1,type:{name:"((event: MouseEvent<Element, MouseEvent>) => void)"}},onMouseDown:{defaultValue:null,description:"",name:"onMouseDown",required:!1,type:{name:"((event: MouseEvent<Element, MouseEvent>) => void)"}},onMouseUp:{defaultValue:null,description:"",name:"onMouseUp",required:!1,type:{name:"((event: MouseEvent<Element, MouseEvent>) => void)"}},onMouseEnter:{defaultValue:null,description:"",name:"onMouseEnter",required:!1,type:{name:"((event: MouseEvent<Element, MouseEvent>) => void)"}},onMouseLeave:{defaultValue:null,description:"",name:"onMouseLeave",required:!1,type:{name:"((event: MouseEvent<Element, MouseEvent>) => void)"}},onMouseOver:{defaultValue:null,description:"",name:"onMouseOver",required:!1,type:{name:"((event: MouseEvent<Element, MouseEvent>) => void)"}},onKeyDown:{defaultValue:null,description:"",name:"onKeyDown",required:!1,type:{name:"((event: KeyboardEvent<Element>) => void)"}},onKeyUp:{defaultValue:null,description:"",name:"onKeyUp",required:!1,type:{name:"((event: KeyboardEvent<Element>) => void)"}},onBlockClick:{defaultValue:null,description:"",name:"onBlockClick",required:!1,type:{name:"((event: SmartElementMouseEvent) => void)"}},onBlockDblClick:{defaultValue:null,description:"",name:"onBlockDblClick",required:!1,type:{name:"((event: SmartElementMouseEvent) => void)"}},onBlockMouseDown:{defaultValue:null,description:"",name:"onBlockMouseDown",required:!1,type:{name:"((event: SmartElementMouseEvent) => void)"}},onBlockMouseUp:{defaultValue:null,description:"",name:"onBlockMouseUp",required:!1,type:{name:"((event: SmartElementMouseEvent) => void)"}},onBlockMouseEnter:{defaultValue:null,description:"",name:"onBlockMouseEnter",required:!1,type:{name:"((event: SmartElementMouseEvent) => void)"}},onBlockMouseLeave:{defaultValue:null,description:"",name:"onBlockMouseLeave",required:!1,type:{name:"((event: SmartElementMouseEvent) => void)"}},onBlockMouseOver:{defaultValue:null,description:"",name:"onBlockMouseOver",required:!1,type:{name:"((event: SmartElementMouseEvent) => void)"}}}}}catch{}const Ke="_dropDownList_oiquj_1",Be={dropDownList:Ke},oe=({options:e,onOptionSelected:t,activeIndex:o,onActiveOptionChanged:a,onMouseEnteredDropDown:d,onMouseLeftDropDown:C})=>{const u=h.useCallback(i=>{a&&a(i)},[a]),p=h.useCallback(i=>{t(i)},[t]);return M.jsx("div",{id:"drop-down-list",className:Be.dropDownList,onMouseEnter:d,onMouseLeave:C,children:M.jsx("ul",{"aria-activedescendant":e[o],role:"listbox",tabIndex:-1,children:e.map((i,f)=>M.jsx("li",{"aria-selected":o===f,role:"option",tabIndex:0,onClick:()=>p(i),onMouseEnter:()=>u(f),children:i},i))})})};try{oe.displayName="DropDown",oe.__docgenInfo={description:"",displayName:"DropDown",props:{options:{defaultValue:null,description:"",name:"options",required:!0,type:{name:"string[]"}},onOptionSelected:{defaultValue:null,description:"",name:"onOptionSelected",required:!0,type:{name:"(option: string) => void"}},activeIndex:{defaultValue:null,description:"",name:"activeIndex",required:!0,type:{name:"number"}},onActiveOptionChanged:{defaultValue:null,description:"",name:"onActiveOptionChanged",required:!0,type:{name:"(activeIndex: number) => void"}},onMouseEnteredDropDown:{defaultValue:null,description:"",name:"onMouseEnteredDropDown",required:!0,type:{name:"() => void"}},onMouseLeftDropDown:{defaultValue:null,description:"",name:"onMouseLeftDropDown",required:!0,type:{name:"() => void"}}}}}catch{}const He=/[A-Z]/,$e=/[A-Z]{2}[-]{0,1}[0-9]/,Xe=/[A-Z]{2}[-]{0,1}[0-9A-Z]{8}[-]{0,1}[0-9]/,me=["FR0127717439","FR0127733782","IT0004534522","IT0004534530","IT0004534548","IT0004534555","IT0004534571","IT0004534589","IT0004534605","IT0004545890","IT0004548282","IT0004548290","IT0004548308","FR0127694406","FR0127694349","FR0013053329","FR0127739029","XS2421195848","XS2430047212","XS2430287362","XS2430287529","XS2398750922","XS2343528571","XS2344772426","XS2499654643","AT000B066055","AT000B088455","AT0000A20877","XS1966819226","XS1966037860","AT000B126958","AT000B014642","AT000B126966","AT0000A282J7","AT0000A28603","AT0000A286S9","AT000B093190"],he=["ABD","BDA","CAT","DE","EGG","FAN","GAF","HI","INN","JAK","LON","MON","NO","OPO","PAR","QAR","RAT","SEA","TUN","URN","VAN","WX","YY","ZEN"],ze=e=>{if(e.length>2&&!e.includes(".")){const t=e.toLocaleLowerCase()[e.length-1];if(t==="m"||t==="k"){const o=Number(e.substring(0,e.length-1));return!Number.isNaN(Number(o))}return!Number.isNaN(Number(e))}return!1},We=e=>Text.length>2&&e.includes(".")?!Number.isNaN(Number.parseFloat(e)):!1,Ze=(e,t,o)=>{for(let a=o??e.length-1;a>=0;a-=1){const d=e[a];if(t.includes(d))return a+1}},Je="_pillDecorator_2bp86_1",Ge={pillDecorator:Je},$=({textElement:e,text:t,start:o,end:a,cursorPosition:d,clasName:C,style:u})=>{const p=O.useRef(null),[i,f]=O.useState(!1),[S,D]=O.useState(0),[w,c]=O.useState(0),V=O.useMemo(()=>i||d>=o&&d<=a?"hidden":"visible",[i,d,o,a]),E=O.useCallback(_=>{f(!0),_.stopPropagation()},[i,f]),v=O.useCallback(_=>{_.target!==e&&f(!1)},[f,e]);return O.useEffect(()=>(i&&document.addEventListener("mouseover",v),()=>{i&&document.removeEventListener("mouseover",v)}),[i]),O.useEffect(()=>{p.current&&(D((p.current.offsetHeight-e.offsetHeight)/2*-1),c((p.current.offsetWidth-e.offsetWidth)/2*-1))},[e]),M.jsx("div",{ref:p,className:[Ge.pillDecorator,C??""].join(" "),style:{top:S,left:w,visibility:V,...u},onMouseEnter:E,children:t})};try{$.displayName="PillDecorator",$.__docgenInfo={description:"",displayName:"PillDecorator",props:{id:{defaultValue:null,description:"",name:"id",required:!0,type:{name:"string"}},clasName:{defaultValue:null,description:"",name:"clasName",required:!1,type:{name:"string"}},style:{defaultValue:null,description:"",name:"style",required:!1,type:{name:"CSSProperties"}},text:{defaultValue:null,description:"",name:"text",required:!0,type:{name:"string"}},start:{defaultValue:null,description:"",name:"start",required:!0,type:{name:"number"}},end:{defaultValue:null,description:"",name:"end",required:!0,type:{name:"number"}},cursorPosition:{defaultValue:null,description:"",name:"cursorPosition",required:!0,type:{name:"number"}},textElement:{defaultValue:null,description:"",name:"textElement",required:!0,type:{name:"HTMLElement"}},customProps:{defaultValue:null,description:"",name:"customProps",required:!1,type:{name:"any"}}}}}catch{}const Ye="_titleDecorator_c7tdt_1",Qe={titleDecorator:Ye};function se({customProps:e,textElement:t,clasName:o,style:a}){var w;const d=O.useRef(null),[C,u]=O.useState("hidden"),p=O.useRef(null),{title:i,position:f="top"}=e,S=O.useCallback(()=>{setTimeout(()=>{u("visible"),p.current&&(clearTimeout(p.current),p.current=null)},1)},[u]),D=O.useCallback(()=>{p.current=setTimeout(()=>{u("hidden"),p.current=null},200)},[u]);return O.useEffect(()=>(t.addEventListener("mouseenter",S),t.addEventListener("mouseleave",D),()=>{t.removeEventListener("mouseenter",S),t.removeEventListener("mouseleave",D)}),[t]),M.jsx("div",{ref:d,className:[Qe.titleDecorator,o??""].join(" "),style:{visibility:C,top:f==="top"?(((w=d.current)==null?void 0:w.clientHeight)??18)*-1:t.offsetHeight,left:0,...a},onMouseEnter:()=>S(),onMouseLeave:()=>D(),children:M.jsx("span",{style:{fontSize:"9px",padding:"2px 8px 2px 7px"},children:i})})}try{se.displayName="TitleDecorator",se.__docgenInfo={description:"",displayName:"TitleDecorator",props:{id:{defaultValue:null,description:"",name:"id",required:!0,type:{name:"string"}},clasName:{defaultValue:null,description:"",name:"clasName",required:!1,type:{name:"string"}},style:{defaultValue:null,description:"",name:"style",required:!1,type:{name:"CSSProperties"}},text:{defaultValue:null,description:"",name:"text",required:!0,type:{name:"string"}},start:{defaultValue:null,description:"",name:"start",required:!0,type:{name:"number"}},end:{defaultValue:null,description:"",name:"end",required:!0,type:{name:"number"}},cursorPosition:{defaultValue:null,description:"",name:"cursorPosition",required:!0,type:{name:"number"}},textElement:{defaultValue:null,description:"",name:"textElement",required:!0,type:{name:"HTMLElement"}},customProps:{defaultValue:null,description:"",name:"customProps",required:!1,type:{name:"any"}}}}}catch{}const et="_smartFilterPage_1v2cj_1",tt="_filterBar_1v2cj_8",nt="_grid_1v2cj_12",ge={smartFilterPage:et,filterBar:tt,grid:nt},re=({className:e,style:t,onChange:o,onCaretPositionChange:a,onItemSelected:d,...C})=>{const[u,p]=h.useState(""),[i,f]=h.useState([]),S=h.useCallback((E,v,_)=>{const T=v===0?v:Ze(E,` 
\r	`,v)??0,F=E.substring(T).split(/ |\n|\r|\t/),I=i.filter(r=>r.start+r.length<T),s="font-style: italic;font-weight: bold;";let n=T;F.forEach(r=>{if(r.match(Xe))_&&(me.includes(r.toUpperCase())?I.push({id:`isin${n}`,start:n,length:r.length,style:s,Decorator:$,decoratorStyle:{backgroundColor:"rgb(68, 68, 68)",color:"white"}}):I.push({id:`isin${n}`,start:n,length:r.length,style:s,Decorator:$,decoratorStyle:{backgroundColor:"rgb(154, 61, 55)",color:"white"}}));else if(he.includes(r))_&&I.push({id:`ticker${n}`,start:n,length:r.length,style:s,Decorator:$,decoratorStyle:{backgroundColor:"rgb(68, 68, 68)",color:"white"}});else if(ze(r))_&&I.push({id:`vol${n}`,start:n,length:r.length,style:s,customProps:"Size",Decorator:se,decoratorStyle:{backgroundColor:"rgb(68, 68, 68)",color:"white",fontWeight:"bold"}});else if(We(r))_&&I.push({id:`prc${n}`,start:n,length:r.length,style:s,Decorator:$,decoratorStyle:{backgroundColor:"rgb(68, 68, 68)",color:"white",fontWeight:"bold"}});else if(v>=n&&v<=n+r.trimEnd().length&&E[v]!==""){if(r.match($e)){const l=me.filter(g=>g.includes(r));l.length>0&&I.push({id:"bad-edit",start:n,length:r.length,style:"font-style: italic;font-weight: bold;",dropDown:{activation:"cursorposition",options:l.slice(0,5)}})}else if(r.match(He)){const l=he.filter(g=>g.includes(r));l.length>0&&I.push({id:"bad-edit",start:n,length:r.length,style:"font-style: italic;font-weight: bold;",dropDown:{activation:"cursorposition",options:l.slice(0,5)}})}}n=n+r.length+1}),JSON.stringify(I)!==JSON.stringify(i)&&f(I),u!==E&&p(E)},[u,i]),D=h.useCallback((E,v)=>{S(E,v,!0),o&&o(E,v)},[S,u,i]),w=h.useCallback(E=>{S(u,E),a&&a(E)},[S,u,i]),c=h.useMemo(()=>i.map(E=>E.customProps?{...E,customProps:{title:E.customProps,position:"top"}}:E),[i]),V=h.useCallback((E,v)=>{const _=i.find(T=>T.id===E);if(_){const T=`${u.substring(0,_.start)}${v} ${u.substring(_.start+_.length)}`;S(T,_.start,!0)}d&&d(E,v)},[i,u,S]);return M.jsxs("div",{className:ge.smartFilterPage,children:[M.jsx("h4",{children:"Multi Style Input"}),M.jsx("div",{className:ge.filterBar,children:M.jsx(ne,{className:e,style:t,text:u,textBlocks:c,onChange:D,onCaretPositionChange:w,DropDownComponent:oe,onItemSelected:V,...C})})]})};try{re.displayName="MultiStyleInput",re.__docgenInfo={description:"Primary UI component for user interaction",displayName:"MultiStyleInput",props:{exampleWidth:{defaultValue:null,description:"",name:"exampleWidth",required:!1,type:{name:"number"}},exampleHeight:{defaultValue:null,description:"",name:"exampleHeight",required:!1,type:{name:"number"}},tabIndex:{defaultValue:null,description:"",name:"tabIndex",required:!1,type:{name:"number"}},className:{defaultValue:null,description:"",name:"className",required:!1,type:{name:"string"}},style:{defaultValue:null,description:"",name:"style",required:!1,type:{name:"CSSProperties"}},onItemSelected:{defaultValue:null,description:"",name:"onItemSelected",required:!1,type:{name:"((id: string, option: string) => void)"}},onChange:{defaultValue:null,description:"",name:"onChange",required:!1,type:{name:"((text: string, position: number) => void)"}},onCaretPositionChange:{defaultValue:null,description:"",name:"onCaretPositionChange",required:!1,type:{name:"((position: number) => void)"}},onFocus:{defaultValue:null,description:"",name:"onFocus",required:!1,type:{name:"((event: FocusEvent<Element, Element>) => void)"}},onBlur:{defaultValue:null,description:"",name:"onBlur",required:!1,type:{name:"((event: FocusEvent<Element, Element>) => void)"}},onClick:{defaultValue:null,description:"",name:"onClick",required:!1,type:{name:"((event: MouseEvent<Element, MouseEvent>) => void)"}},onDoubleClick:{defaultValue:null,description:"",name:"onDoubleClick",required:!1,type:{name:"((event: MouseEvent<Element, MouseEvent>) => void)"}},onMouseDown:{defaultValue:null,description:"",name:"onMouseDown",required:!1,type:{name:"((event: MouseEvent<Element, MouseEvent>) => void)"}},onMouseUp:{defaultValue:null,description:"",name:"onMouseUp",required:!1,type:{name:"((event: MouseEvent<Element, MouseEvent>) => void)"}},onMouseEnter:{defaultValue:null,description:"",name:"onMouseEnter",required:!1,type:{name:"((event: MouseEvent<Element, MouseEvent>) => void)"}},onMouseLeave:{defaultValue:null,description:"",name:"onMouseLeave",required:!1,type:{name:"((event: MouseEvent<Element, MouseEvent>) => void)"}},onMouseOver:{defaultValue:null,description:"",name:"onMouseOver",required:!1,type:{name:"((event: MouseEvent<Element, MouseEvent>) => void)"}},onKeyDown:{defaultValue:null,description:"",name:"onKeyDown",required:!1,type:{name:"((event: KeyboardEvent<Element>) => void)"}},onKeyUp:{defaultValue:null,description:"",name:"onKeyUp",required:!1,type:{name:"((event: KeyboardEvent<Element>) => void)"}}}}}catch{}const it={title:"Examples/MultiStyleInput",component:re,parameters:{layout:"centered"},tags:["autodocs"],argTypes:{exampleWidth:{control:"number",description:"The width of the example"},exampleHeight:{control:"number",description:"The height of the example"},className:{description:"class name for custom class"},style:{description:"custom styling"}},args:{onItemSelected:A(),onChange:A(),onCaretPositionChange:A(),onFocus:A(),onBlur:A(),onClick:A(),onDoubleClick:A(),onMouseDown:A(),onMouseUp:A(),onMouseEnter:A(),onMouseLeave:A(),onMouseOver:A(),onKeyDown:A(),onKeyUp:A()}},J={args:{exampleHeight:600,exampleWidth:1e3,style:{backgroundColor:"blue",borderRadius:"30px"}}};var ye,ve,Ee;J.parameters={...J.parameters,docs:{...(ye=J.parameters)==null?void 0:ye.docs,source:{originalSource:`{
  args: {
    exampleHeight: 600,
    exampleWidth: 1000,
    style: {
      backgroundColor: 'blue',
      borderRadius: '30px'
    }
  }
}`,...(Ee=(ve=J.parameters)==null?void 0:ve.docs)==null?void 0:Ee.source}}};const lt=["Primary"];export{J as Primary,lt as __namedExportsOrder,it as default};
