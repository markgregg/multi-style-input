import{f as A}from"./index-Dj6nxAlZ.js";import{j as P}from"./jsx-runtime-DFKZ3ixi.js";import{R as h,r as O}from"./index-SSXOyoI7.js";const Se="_enhancedInput_wyz0i_1",De={enhancedInput:Se},ue=e=>{let t;const o=new Set,a=(f,S)=>{const D=typeof f=="function"?f(t):f;if(!Object.is(D,t)){const M=t;t=S??(typeof D!="object"||D===null)?D:Object.assign({},t,D),o.forEach(c=>c(t,M))}},d=()=>t,p={setState:a,getState:d,getInitialState:()=>i,subscribe:f=>(o.add(f),()=>o.delete(f))},i=t=e(a,d,p);return p},Ne=e=>e?ue(e):ue,_e=e=>e;function Ee(e,t=_e){const o=h.useSyncExternalStore(e.subscribe,()=>t(e.getState()),()=>t(e.getInitialState()));return h.useDebugValue(o),o}const ce=e=>{const t=Ne(e),o=a=>Ee(t,a);return Object.assign(o,t),o},X=e=>e?ce(e):ce,Ce=h.createContext(),W=(e,t)=>{const o=e(h.useContext(Ce));if(o===null)throw new Error("useState must be used within StateProvider");return Ee(o,t)},ie=e=>W(t=>t.configStore,e),le=e=>W(t=>t.decoratedBlockStore,e),ae=e=>W(t=>t.viewPortStore,e),Me=e=>W(t=>t.managedStore,e),xe=e=>W(t=>t.optionsStore,e),we="_editElement_1v3pw_1",Pe={editElement:we},Ie=(e,t)=>{h.useEffect(()=>{const o=new ResizeObserver(()=>{const{width:a,height:d}=(e==null?void 0:e.getBoundingClientRect())??{};t(a??0,d??0)});if(e){o.observe(e);const{width:a,height:d}=(e==null?void 0:e.getBoundingClientRect())??{};t(a??0,d??0)}return()=>{e&&o.unobserve(e)}},[e])},de=(e,t)=>{for(let o=0;o<t.length;o+=1)if(o>e.length||o>t.length||e[o]!==t[o])return o;return t.length},pe=e=>{if(!e)return 0;const t=document.getSelection();if(t&&t.rangeCount>0){let o=0;const a=t.getRangeAt(0),d=(x,u)=>{for(let p=0;p<x.childNodes.length;p+=1){const i=x.childNodes[p];if(i===u)return o+a.endOffset+((i.textContent??"").trim()===`
`?1:0);if(i&&i.nodeName==="#text"){const f=(i.textContent??"").length;o+=f}if(i.childNodes.length>0){const f=d(i,u);if(f)return f}}return null};return d(e,a.endContainer)??0}return 0},Ve=(e,t)=>{if(t!==-1){let o=0;const a=u=>{for(let p=0;p<u.childNodes.length;p+=1){const i=u.childNodes[p];if(i&&i.nodeName==="#text"){const f=(i.textContent??"").length;if(o+=f,t<o)return i}if(i.childNodes.length>0){const f=a(i);if(f)return f}}return null},d=a(e);if(d){const u=document.getSelection();u&&u.setPosition(d,t-(o-(d.textContent??"").length));return}const x=document.getSelection();if(x){const u=be(e);u&&u.nodeName==="#text"&&x.setPosition(u,(u.textContent??"").length>0?(u.textContent??"").length:0)}}},be=e=>{for(let t=e.childNodes.length-1;t>=0;t-=1){const o=e.childNodes[t];if(o.childNodes.length>0){const a=be(o);if(a)return a}else if((o.textContent??"").length>0)return o}return null},qe=(e,t)=>{if(t.length===0)return null;for(let o=1;;o+=1){if(t.length===o)return null;if(e.length===o||t[t.length-o]!==e[e.length-o])return t.length-(o-1)}},Oe=e=>{let t=0;for(let o=e.length-1;o>0&&e[o]===`
`;o-=1)t+=1;return t>2?e.substring(0,e.length-(t-2)):e},q={ArrowRight:"ArrowRight",ArrowLeft:"ArrowLeft",ArrowUp:"ArrowUp",ArrowDown:"ArrowDown",PageUp:"PageUp",PageDown:"PageDown",Home:"Home",End:"End",Enter:"Enter",Tab:"Tab",c:"c",C:"C",x:"x",X:"X",v:"v",V:"V",z:"z",Z:"Z",Space:" ",Escape:"Escape"},Y=h.memo(()=>{const e=h.useRef(null),{className:t,style:o,onItemSelected:a,onChange:d,onCaretPositionChange:x,onFocus:u,onBlur:p,onClick:i,onDoubleClick:f,onMouseDown:S,onMouseUp:D,onMouseEnter:M,onMouseLeave:c,onMouseOver:V,onKeyDown:E,onKeyUp:v}=ie(m=>m),{setPosition:N,setSize:T}=ae(m=>m),{parentElement:F,text:I,caretPosition:s,dropDown:n,setParantElement:r,updateText:l,updateCaretPosition:g}=le(m=>m),{activeOption:y,next:C,prev:_}=xe(m=>m);Ie(e.current,T),h.useEffect(()=>{!F&&e.current&&r(e.current)},[F]);const R=h.useCallback(m=>{m&&r(m),e.current=m},[]),b=h.useCallback(()=>{var m;if(d){const w=Oe(((m=e.current)==null?void 0:m.textContent)??""),k=de(I,w),H=pe(e.current);g(H),l(w),d(w,k)}},[d,l]),j=h.useCallback(()=>{e.current&&N(e.current.scrollTop,e.current.scrollLeft)},[N]),z=h.useCallback(m=>{m.clipboardData.types.includes("text/html")&&m.preventDefault()},[]),L=h.useCallback(m=>{const w=document.getSelection();if(w){const k=w.getRangeAt(0);if(k.startContainer!==k.endContainer||k.startOffset!==k.endOffset){m.clipboardData.setData("text/plain",w.toString()),m.preventDefault();return}}e.current&&(m.clipboardData.setData("text/plain",e.current.textContent??""),m.preventDefault())},[]),K=h.useCallback(m=>{const w=document.getSelection();if(w){const k=w.getRangeAt(0);if(k.startContainer!==k.endContainer||k.startOffset!==k.endOffset){const H=w.toString();m.clipboardData.setData("text/plain",H);const U=I.replace(H,"");if(l(U),d){const Z=de(I,U);d(U,Z)}m.preventDefault()}}},[I,d]),B=h.useCallback(m=>{if((m.key===q.ArrowLeft||m.key===q.ArrowRight||m.key===q.ArrowUp||m.key===q.ArrowDown||m.key===q.Home||m.key===q.End||m.key===q.PageDown||m.key===q.PageUp)&&x){const w=pe(e.current);w!==s&&g(w)}v&&v(m)},[]),G=h.useCallback(m=>{let w=!1;switch(m.key){case q.Escape:break;case q.Z:case q.z:break;case q.ArrowUp:n&&(_(),w=!0);break;case q.ArrowDown:n&&(C(),w=!0);break;case q.Space:case q.Enter:n&&a&&(a(n.id??"",y),w=!0);break}w?(m.preventDefault(),m.stopPropagation()):E&&E(m)},[n,y,E,C,_,a]);return P.jsx("pre",{id:"si-edit-element",className:[Pe.editElement,t].join(" "),style:o,contentEditable:"true",ref:R,autoCapitalize:"none",autoCorrect:"off",spellCheck:"false",onInput:b,onScroll:j,onPaste:z,onCopy:L,onCut:K,onKeyUp:B,onKeyDown:G,onFocus:u,onBlur:p,onClick:i,onDoubleClick:f,onMouseDown:S,onMouseUp:D,onMouseEnter:M,onMouseLeave:c,onMouseOver:V})});try{Y.displayName="EditElement",Y.__docgenInfo={description:"",displayName:"EditElement",props:{}}}catch{}const Ae="_dropDown_ypmzi_1",Le={dropDown:Ae},Q=h.memo(()=>{const{DropDownComponent:e,onItemSelected:t}=ie(v=>v),{id:o,top:a,left:d,dropDown:{activation:x,options:u=[]}={}}=le(v=>v.dropDown)??{},{top:p,left:i}=ae(v=>v),{activeOptionIdx:f,setOptions:S,setActiveOption:D}=xe(v=>v);h.useEffect(()=>{S(u)},[u]);const M=h.useCallback(()=>{},[x]),c=h.useCallback(()=>{},[x]),V=h.useCallback(v=>{t&&t(o??"",v)},[]),E=h.useCallback(v=>{D(v)},[]);return P.jsx("div",{className:Le.dropDown,style:{top:(a??0)-p,left:(d??0)-i},children:e&&P.jsx(e,{onMouseLeftDropDown:M,onMouseEnteredDropDown:c,options:u,onOptionSelected:V,activeIndex:f,onActiveOptionChanged:E})})});try{Q.displayName="DropDown",Q.__docgenInfo={description:"",displayName:"DropDown",props:{}}}catch{}const ee=h.memo(()=>{const{tabIndex:e,className:t,style:o}=ie(c=>c),{customElements:a,dropDown:d,caretPosition:x,update:u}=le(c=>c),{top:p,left:i,height:f}=ae(c=>c),{text:S,textBlocks:D}=Me(c=>c);h.useEffect(()=>u(S,D),[S,D]);const M=h.useMemo(()=>a.filter(c=>c.top-p+c.height>=0&&c.top-i<=f),[a,f,p,i]);return P.jsxs("div",{tabIndex:e??-1,id:"si-enhanced-Input",className:[De.enhancedInput,t].join(" "),style:o,children:[P.jsx(Y,{}),M.map(c=>P.jsx("div",{style:{position:"absolute",lineHeight:"normal",left:c.left-i,top:c.top-p,width:c.width,height:c.top-p+c.height<f?c.height:f-(c.top-p)},children:P.jsx(c.Decorator,{id:c.id,text:c.text,start:c.start,end:c.end,cursorPosition:x,textElement:c.textElement,customProps:c.customProps,style:c.decoratorStyle})},c.id)),d&&P.jsx(Q,{})]})});try{ee.displayName="EnhancedInput",ee.__docgenInfo={description:"",displayName:"EnhancedInput",props:{}}}catch{}const ke=({tabIndex:e,className:t,style:o,DropDownComponent:a,onItemSelected:d,onChange:x,onCaretPositionChange:u,onFocus:p,onBlur:i,onClick:f,onDoubleClick:S,onMouseDown:D,onMouseUp:M,onMouseEnter:c,onMouseLeave:V,onMouseOver:E,onKeyDown:v,onKeyUp:N})=>X(()=>({tabIndex:e,className:t,style:o,DropDownComponent:a,onItemSelected:d,onChange:x,onCaretPositionChange:u,onFocus:p,onBlur:i,onClick:f,onDoubleClick:S,onMouseDown:D,onMouseUp:M,onMouseEnter:c,onMouseLeave:V,onMouseOver:E,onKeyDown:v,onKeyUp:N})),Te=({onBlockClick:e,onBlockDblClick:t,onBlockMouseDown:o,onBlockMouseUp:a,onBlockMouseEnter:d,onBlockMouseLeave:x,onBlockMouseOver:u})=>{const p=(s,n,r)=>({type:"t",start:s,end:n,text:r}),i=(s,n,r,l,g,y)=>({type:"s",start:s,end:n,text:r,id:l,style:g,existingStyle:y}),f=(s,n,r)=>{let l=0;return n.sort((y,C)=>y.start-C.start),s.split(`
`).map(y=>{let C=l;const _=n.filter(({start:R,length:b})=>R>=l&&R+b<=l+y.length).flatMap(({id:R,start:b,length:j,style:z})=>{const L=r.find(B=>B.id===R),K=[...b>C?[p(C,C+(b-C-1),y.substring(C-l,b-l))]:[],i(b,b+j-1,y.substring(b-l,b-l+j),R,z,L==null?void 0:L.style)];return C=b+j,K});return C<l+y.length?_.push(p(C,C+(y.length-(C-l)),`${y.substring(C-l)}
`)):_.push(p(C,C,`
`)),l+=y.length+1,_})},S=(s,n,r,l)=>{const g=f(n,r,l);let y=0;for(;y<g.length;){const C=g[y],_=y<s.childNodes.length?s.childNodes[y]:null;y===0&&s.childNodes.length>0&&_&&_.nodeName==="#text"?C.length===1&&C[0].type==="t"?_.textContent!==C[0].text&&(_.textContent=C[0].text):(D(s,C,_),s.removeChild(_)):_?_.nodeName!=="DIV"?(D(s,C,_),s.removeChild(_)):M(C,_):D(s,C),y+=1}for(;y<s.childNodes.length;)s.removeChild(s.childNodes[y])},D=(s,n,r=null)=>{const l=document.createElement("div");N(s,l,r),n.length===0?c(l,`
`):n.forEach(g=>{g.type==="t"?c(l,g.text):V(l,g)})},M=(s,n)=>{if(s.length===1&&s[0].type==="t"&&n.childNodes.length===1&&n.childNodes[0].nodeName==="#text"){n.childNodes[0].textContent!==s[0].text&&(n.childNodes[0].textContent=s[0].text);return}let r=0;for(;r<s.length;){const l=s[r],g=r<n.childNodes.length?n.childNodes[r]:null;l.type==="s"?g&&l.id!==g.id?E(n,r,l.id)?(n.removeChild(g),v(n.childNodes[r],l)):V(n,l,g):g&&g.id===l.id?v(g,l):V(n,l,g):g?n.nodeName!=="#text"?(c(n,l.text,g),n.removeChild(g)):g.textContent!==l.text&&(g.textContent=l.text):c(n,l.text,g),r+=1}for(;r<n.childNodes.length;)n.removeChild(n.childNodes[r])},c=(s,n,r=null)=>{const l=document.createTextNode(n);N(s,l,r)},V=(s,{id:n,text:r,style:l},g=null)=>{const y=document.createElement("span");y.textContent=r,y.id=n,l&&(y.style.cssText=l),N(s,y,g),T(y)},E=(s,n,r)=>s.childNodes.length>n+1&&"id"in s.childNodes[n+1]&&r===s.childNodes[n+1].id,v=(s,{text:n,style:r,existingStyle:l})=>{s.textContent!==n&&(s.textContent=n),r!==l&&(s.style.cssText=r??"")},N=(s,n,r=null)=>{r?s.insertBefore(n,r):s.appendChild(n)},T=s=>{const n=b=>({event:b,id:s.id,blockText:s.textContent??""}),r=b=>{e==null||e(n(b))},l=b=>{t==null||t(n(b))},g=b=>{o==null||o(n(b))},y=b=>{a==null||a(n(b))},C=b=>{d==null||d(n(b))},_=b=>{x==null||x(n(b))},R=b=>{u==null||u(n(b))};e&&s.addEventListener("click",r),t&&s.addEventListener("dblclick",l),o&&s.addEventListener("mousedown",g),a&&s.addEventListener("mouseup",y),d&&s.addEventListener("mouseenter",C),x&&s.addEventListener("mouseleave",_),u&&s.addEventListener("mouseover",R)},F=(s,n)=>{if(n.length===0)return!1;const{start:r,length:l}=n.sort((g,y)=>g.start-y.start)[n.length-1];return r+l+1>=s.length},I=(s,n)=>({top:s.offsetTop+(n?s.offsetHeight+2:0),left:s.offsetLeft,width:s.offsetWidth,height:s.offsetHeight});return X(s=>({text:"",textBlocks:[],parentElement:null,customElements:[],dropDown:null,caretPosition:0,setParantElement:n=>s(()=>({parentElement:n})),updateText:n=>s(()=>({text:n})),updateCaretPosition:n=>s(()=>({caretPosition:n})),update:(n,r)=>s(l=>{const{parentElement:g,text:y,textBlocks:C,caretPosition:_}=l;if(!g||y.length>1&&y===n&&JSON.stringify(C)===JSON.stringify(r)&&!F(y,C)&&y[y.length-1]!==`
`)return{};S(g,n,r,C);const R=qe(y,n)??_;Ve(g,R);const b=r.filter(L=>"Decorator"in L).map(L=>{const{id:K,start:B,length:G,Decorator:m,clasName:w,decoratorStyle:k,customProps:H}=L,U=document.getElementById(K);if(!U)return null;const Z=U.textContent??"";return{id:K,text:Z,start:B,end:B+Z.length,length:G,Decorator:m,textElement:U,clasName:w,decoratorStyle:k,customProps:H,...I(U,!1)}}).filter(L=>L!==null),{id:j,dropDown:z}=r.find(L=>"dropDown"in L)??{};return{text:n,textBlocks:r,customElements:b,dropDown:j?{id:j,dropDown:z,...I(document.getElementById(j),!0)}:null}})}))},Re=()=>X(e=>({top:0,left:0,width:0,height:0,setPosition:(t,o)=>e(()=>({top:t,left:o})),setSize:(t,o)=>e(()=>({width:t,height:o}))})),je=({text:e,textBlocks:t})=>X(()=>({text:e,textBlocks:t})),Ue=()=>X(e=>({options:[],activeOption:"",activeOptionIdx:0,setOptions:t=>e(()=>({options:t,activeOption:t[0],activeOptionIdx:0})),setActiveOption:t=>e(o=>({activeOption:o.options[t],activeOptionIdx:t})),next:()=>e(t=>{const o=t.activeOptionIdx<t.options.length-1?t.activeOptionIdx+=1:0;return{activeOption:t.options[o],activeOptionIdx:o}}),prev:()=>e(t=>{const o=t.activeOptionIdx>0?t.activeOptionIdx-=1:t.options.length-1;return{activeOption:t.options[o],activeOptionIdx:o}})})),te=h.memo(({props:e,children:t})=>{const{onBlockClick:o,onBlockDblClick:a,onBlockMouseDown:d,onBlockMouseUp:x,onBlockMouseEnter:u,onBlockMouseLeave:p,onBlockMouseOver:i,onChange:f,text:S,textBlocks:D}=e,M=h.useMemo(()=>ke(e),[f]),c=h.useMemo(()=>Te(e),[o,a,d,x,u,p,i]),V=h.useMemo(Re,[]),E=h.useMemo(()=>je(e),[S,D]),v=h.useMemo(Ue,[]),N=h.useMemo(()=>({configStore:M,decoratedBlockStore:c,viewPortStore:V,managedStore:E,optionsStore:v}),[M,c,V,E,v]);return P.jsx(Ce.Provider,{value:N,children:t})});try{te.displayName="StateProvider",te.__docgenInfo={description:"",displayName:"StateProvider",props:{props:{defaultValue:null,description:"",name:"props",required:!0,type:{name:"MultiStyledInputProps"}}}}}catch{}const ne=h.memo(e=>P.jsx(te,{props:e,children:P.jsx(ee,{})}));try{ne.displayName="MultiStyledInput",ne.__docgenInfo={description:"",displayName:"MultiStyledInput",props:{text:{defaultValue:null,description:"",name:"text",required:!0,type:{name:"string"}},textBlocks:{defaultValue:null,description:"",name:"textBlocks",required:!0,type:{name:"DecoratedBlock[]"}},tabIndex:{defaultValue:null,description:"",name:"tabIndex",required:!1,type:{name:"number"}},className:{defaultValue:null,description:"",name:"className",required:!1,type:{name:"string"}},style:{defaultValue:null,description:"",name:"style",required:!1,type:{name:"CSSProperties"}},DropDownComponent:{defaultValue:null,description:"",name:"DropDownComponent",required:!1,type:{name:"ComponentType<DropDownProps>"}},onItemSelected:{defaultValue:null,description:"",name:"onItemSelected",required:!1,type:{name:"((id: string, option: string) => void)"}},onChange:{defaultValue:null,description:"",name:"onChange",required:!1,type:{name:"((text: string, position: number) => void)"}},onCaretPositionChange:{defaultValue:null,description:"",name:"onCaretPositionChange",required:!1,type:{name:"((position: number) => void)"}},onFocus:{defaultValue:null,description:"",name:"onFocus",required:!1,type:{name:"((event: FocusEvent<Element, Element>) => void)"}},onBlur:{defaultValue:null,description:"",name:"onBlur",required:!1,type:{name:"((event: FocusEvent<Element, Element>) => void)"}},onClick:{defaultValue:null,description:"",name:"onClick",required:!1,type:{name:"((event: MouseEvent<Element, MouseEvent>) => void)"}},onDoubleClick:{defaultValue:null,description:"",name:"onDoubleClick",required:!1,type:{name:"((event: MouseEvent<Element, MouseEvent>) => void)"}},onMouseDown:{defaultValue:null,description:"",name:"onMouseDown",required:!1,type:{name:"((event: MouseEvent<Element, MouseEvent>) => void)"}},onMouseUp:{defaultValue:null,description:"",name:"onMouseUp",required:!1,type:{name:"((event: MouseEvent<Element, MouseEvent>) => void)"}},onMouseEnter:{defaultValue:null,description:"",name:"onMouseEnter",required:!1,type:{name:"((event: MouseEvent<Element, MouseEvent>) => void)"}},onMouseLeave:{defaultValue:null,description:"",name:"onMouseLeave",required:!1,type:{name:"((event: MouseEvent<Element, MouseEvent>) => void)"}},onMouseOver:{defaultValue:null,description:"",name:"onMouseOver",required:!1,type:{name:"((event: MouseEvent<Element, MouseEvent>) => void)"}},onKeyDown:{defaultValue:null,description:"",name:"onKeyDown",required:!1,type:{name:"((event: KeyboardEvent<Element>) => void)"}},onKeyUp:{defaultValue:null,description:"",name:"onKeyUp",required:!1,type:{name:"((event: KeyboardEvent<Element>) => void)"}},onBlockClick:{defaultValue:null,description:"",name:"onBlockClick",required:!1,type:{name:"((event: SmartElementMouseEvent) => void)"}},onBlockDblClick:{defaultValue:null,description:"",name:"onBlockDblClick",required:!1,type:{name:"((event: SmartElementMouseEvent) => void)"}},onBlockMouseDown:{defaultValue:null,description:"",name:"onBlockMouseDown",required:!1,type:{name:"((event: SmartElementMouseEvent) => void)"}},onBlockMouseUp:{defaultValue:null,description:"",name:"onBlockMouseUp",required:!1,type:{name:"((event: SmartElementMouseEvent) => void)"}},onBlockMouseEnter:{defaultValue:null,description:"",name:"onBlockMouseEnter",required:!1,type:{name:"((event: SmartElementMouseEvent) => void)"}},onBlockMouseLeave:{defaultValue:null,description:"",name:"onBlockMouseLeave",required:!1,type:{name:"((event: SmartElementMouseEvent) => void)"}},onBlockMouseOver:{defaultValue:null,description:"",name:"onBlockMouseOver",required:!1,type:{name:"((event: SmartElementMouseEvent) => void)"}}}}}catch{}const Fe="_dropDownList_oiquj_1",Ke={dropDownList:Fe},oe=({options:e,onOptionSelected:t,activeIndex:o,onActiveOptionChanged:a,onMouseEnteredDropDown:d,onMouseLeftDropDown:x})=>{const u=h.useCallback(i=>{a&&a(i)},[a]),p=h.useCallback(i=>{t(i)},[t]);return P.jsx("div",{id:"drop-down-list",className:Ke.dropDownList,onMouseEnter:d,onMouseLeave:x,children:P.jsx("ul",{"aria-activedescendant":e[o],role:"listbox",tabIndex:-1,children:e.map((i,f)=>P.jsx("li",{"aria-selected":o===f,role:"option",tabIndex:0,onClick:()=>p(i),onMouseEnter:()=>u(f),children:i},i))})})};try{oe.displayName="DropDown",oe.__docgenInfo={description:"",displayName:"DropDown",props:{options:{defaultValue:null,description:"",name:"options",required:!0,type:{name:"string[]"}},onOptionSelected:{defaultValue:null,description:"",name:"onOptionSelected",required:!0,type:{name:"(option: string) => void"}},activeIndex:{defaultValue:null,description:"",name:"activeIndex",required:!0,type:{name:"number"}},onActiveOptionChanged:{defaultValue:null,description:"",name:"onActiveOptionChanged",required:!0,type:{name:"(activeIndex: number) => void"}},onMouseEnteredDropDown:{defaultValue:null,description:"",name:"onMouseEnteredDropDown",required:!0,type:{name:"() => void"}},onMouseLeftDropDown:{defaultValue:null,description:"",name:"onMouseLeftDropDown",required:!0,type:{name:"() => void"}}}}}catch{}const Be=/[A-Z]/,He=/[A-Z]{2}[-]{0,1}[0-9]/,$e=/[A-Z]{2}[-]{0,1}[0-9A-Z]{8}[-]{0,1}[0-9]/,fe=["FR0127717439","FR0127733782","IT0004534522","IT0004534530","IT0004534548","IT0004534555","IT0004534571","IT0004534589","IT0004534605","IT0004545890","IT0004548282","IT0004548290","IT0004548308","FR0127694406","FR0127694349","FR0013053329","FR0127739029","XS2421195848","XS2430047212","XS2430287362","XS2430287529","XS2398750922","XS2343528571","XS2344772426","XS2499654643","AT000B066055","AT000B088455","AT0000A20877","XS1966819226","XS1966037860","AT000B126958","AT000B014642","AT000B126966","AT0000A282J7","AT0000A28603","AT0000A286S9","AT000B093190"],me=["ABD","BDA","CAT","DE","EGG","FAN","GAF","HI","INN","JAK","LON","MON","NO","OPO","PAR","QAR","RAT","SEA","TUN","URN","VAN","WX","YY","ZEN"],ze=e=>{if(e.length>2&&!e.includes(".")){const t=e.toLocaleLowerCase()[e.length-1];if(t==="m"||t==="k"){const o=Number(e.substring(0,e.length-1));return!Number.isNaN(Number(o))}return!Number.isNaN(Number(e))}return!1},Xe=e=>Text.length>2&&e.includes(".")?!Number.isNaN(Number.parseFloat(e)):!1,We=(e,t,o)=>{for(let a=o??e.length-1;a>=0;a-=1){const d=e[a];if(t.includes(d))return a+1}},Ze="_pillDecorator_2bp86_1",Je={pillDecorator:Ze},$=({textElement:e,text:t,start:o,end:a,cursorPosition:d,clasName:x,style:u})=>{const p=O.useRef(null),[i,f]=O.useState(!1),[S,D]=O.useState(0),[M,c]=O.useState(0),V=O.useMemo(()=>i||d>=o&&d<=a?"hidden":"visible",[i,d,o,a]),E=O.useCallback(N=>{f(!0),N.stopPropagation()},[i,f]),v=O.useCallback(N=>{N.target!==e&&f(!1)},[f,e]);return O.useEffect(()=>(i&&document.addEventListener("mouseover",v),()=>{i&&document.removeEventListener("mouseover",v)}),[i]),O.useEffect(()=>{p.current&&(D((p.current.offsetHeight-e.offsetHeight)/2*-1),c((p.current.offsetWidth-e.offsetWidth)/2*-1))},[e]),P.jsx("div",{ref:p,className:[Je.pillDecorator,x??""].join(" "),style:{top:S,left:M,visibility:V,...u},onMouseEnter:E,children:t})};try{$.displayName="PillDecorator",$.__docgenInfo={description:"",displayName:"PillDecorator",props:{id:{defaultValue:null,description:"",name:"id",required:!0,type:{name:"string"}},clasName:{defaultValue:null,description:"",name:"clasName",required:!1,type:{name:"string"}},style:{defaultValue:null,description:"",name:"style",required:!1,type:{name:"CSSProperties"}},text:{defaultValue:null,description:"",name:"text",required:!0,type:{name:"string"}},start:{defaultValue:null,description:"",name:"start",required:!0,type:{name:"number"}},end:{defaultValue:null,description:"",name:"end",required:!0,type:{name:"number"}},cursorPosition:{defaultValue:null,description:"",name:"cursorPosition",required:!0,type:{name:"number"}},textElement:{defaultValue:null,description:"",name:"textElement",required:!0,type:{name:"HTMLElement"}},customProps:{defaultValue:null,description:"",name:"customProps",required:!1,type:{name:"any"}}}}}catch{}const Ge="_titleDecorator_c7tdt_1",Ye={titleDecorator:Ge};function se({customProps:e,textElement:t,clasName:o,style:a}){var M;const d=O.useRef(null),[x,u]=O.useState("hidden"),p=O.useRef(null),{title:i,position:f="top"}=e,S=O.useCallback(()=>{setTimeout(()=>{u("visible"),p.current&&(clearTimeout(p.current),p.current=null)},1)},[u]),D=O.useCallback(()=>{p.current=setTimeout(()=>{u("hidden"),p.current=null},200)},[u]);return O.useEffect(()=>(t.addEventListener("mouseenter",S),t.addEventListener("mouseleave",D),()=>{t.removeEventListener("mouseenter",S),t.removeEventListener("mouseleave",D)}),[t]),P.jsx("div",{ref:d,className:[Ye.titleDecorator,o??""].join(" "),style:{visibility:x,top:f==="top"?(((M=d.current)==null?void 0:M.clientHeight)??18)*-1:t.offsetHeight,left:0,...a},onMouseEnter:()=>S(),onMouseLeave:()=>D(),children:P.jsx("span",{style:{fontSize:"9px",padding:"2px 8px 2px 7px"},children:i})})}try{se.displayName="TitleDecorator",se.__docgenInfo={description:"",displayName:"TitleDecorator",props:{id:{defaultValue:null,description:"",name:"id",required:!0,type:{name:"string"}},clasName:{defaultValue:null,description:"",name:"clasName",required:!1,type:{name:"string"}},style:{defaultValue:null,description:"",name:"style",required:!1,type:{name:"CSSProperties"}},text:{defaultValue:null,description:"",name:"text",required:!0,type:{name:"string"}},start:{defaultValue:null,description:"",name:"start",required:!0,type:{name:"number"}},end:{defaultValue:null,description:"",name:"end",required:!0,type:{name:"number"}},cursorPosition:{defaultValue:null,description:"",name:"cursorPosition",required:!0,type:{name:"number"}},textElement:{defaultValue:null,description:"",name:"textElement",required:!0,type:{name:"HTMLElement"}},customProps:{defaultValue:null,description:"",name:"customProps",required:!1,type:{name:"any"}}}}}catch{}const Qe="_smartFilterPage_1v2cj_1",et="_filterBar_1v2cj_8",tt="_grid_1v2cj_12",he={smartFilterPage:Qe,filterBar:et,grid:tt},re=({className:e,style:t,onChange:o,onCaretPositionChange:a,onItemSelected:d,...x})=>{const[u,p]=h.useState(""),[i,f]=h.useState([]),S=h.useCallback((E,v,N)=>{const T=v===0?v:We(E,` 
\r	`,v)??0,F=E.substring(T).split(/ |\n|\r|\t/),I=i.filter(r=>r.start+r.length<T),s="font-style: italic;font-weight: bold;";let n=T;F.forEach(r=>{if(r.match($e))N&&(fe.includes(r.toUpperCase())?I.push({id:`isin${n}`,start:n,length:r.length,style:s,Decorator:$,decoratorStyle:{backgroundColor:"rgb(68, 68, 68)",color:"white"}}):I.push({id:`isin${n}`,start:n,length:r.length,style:s,Decorator:$,decoratorStyle:{backgroundColor:"rgb(154, 61, 55)",color:"white"}}));else if(me.includes(r))N&&I.push({id:`ticker${n}`,start:n,length:r.length,style:s,Decorator:$,decoratorStyle:{backgroundColor:"rgb(68, 68, 68)",color:"white"}});else if(ze(r))N&&I.push({id:`vol${n}`,start:n,length:r.length,style:s,customProps:"Size",Decorator:se,decoratorStyle:{backgroundColor:"rgb(68, 68, 68)",color:"white",fontWeight:"bold"}});else if(Xe(r))N&&I.push({id:`prc${n}`,start:n,length:r.length,style:s,Decorator:$,decoratorStyle:{backgroundColor:"rgb(68, 68, 68)",color:"white",fontWeight:"bold"}});else if(v>=n&&v<=n+r.trimEnd().length&&E[v]!==""){if(r.match(He)){const l=fe.filter(g=>g.includes(r));l.length>0&&I.push({id:"bad-edit",start:n,length:r.length,style:"font-style: italic;font-weight: bold;",dropDown:{activation:"cursorposition",options:l.slice(0,5)}})}else if(r.match(Be)){const l=me.filter(g=>g.includes(r));l.length>0&&I.push({id:"bad-edit",start:n,length:r.length,style:"font-style: italic;font-weight: bold;",dropDown:{activation:"cursorposition",options:l.slice(0,5)}})}}n=n+r.length+1}),JSON.stringify(I)!==JSON.stringify(i)&&f(I),u!==E&&p(E)},[u,i]),D=h.useCallback((E,v)=>{S(E,v,!0),o&&o(E,v)},[S,u,i]),M=h.useCallback(E=>{S(u,E),a&&a(E)},[S,u,i]),c=h.useMemo(()=>i.map(E=>E.customProps?{...E,customProps:{title:E.customProps,position:"top"}}:E),[i]),V=h.useCallback((E,v)=>{const N=i.find(T=>T.id===E);if(N){const T=`${u.substring(0,N.start)}${v} ${u.substring(N.start+N.length)}`;S(T,N.start,!0)}d&&d(E,v)},[i,u,S]);return P.jsxs("div",{className:he.smartFilterPage,children:[P.jsx("h4",{children:"Multi Styled Input"}),P.jsx("div",{className:he.filterBar,children:P.jsx(ne,{className:e,style:t,text:u,textBlocks:c,onChange:D,onCaretPositionChange:M,DropDownComponent:oe,onItemSelected:V,...x})})]})};try{re.displayName="MultiStyledInput",re.__docgenInfo={description:"Primary UI component for user interaction",displayName:"MultiStyledInput",props:{exampleWidth:{defaultValue:null,description:"",name:"exampleWidth",required:!1,type:{name:"number"}},exampleHeight:{defaultValue:null,description:"",name:"exampleHeight",required:!1,type:{name:"number"}},tabIndex:{defaultValue:null,description:"",name:"tabIndex",required:!1,type:{name:"number"}},className:{defaultValue:null,description:"",name:"className",required:!1,type:{name:"string"}},style:{defaultValue:null,description:"",name:"style",required:!1,type:{name:"CSSProperties"}},onItemSelected:{defaultValue:null,description:"",name:"onItemSelected",required:!1,type:{name:"((id: string, option: string) => void)"}},onChange:{defaultValue:null,description:"",name:"onChange",required:!1,type:{name:"((text: string, position: number) => void)"}},onCaretPositionChange:{defaultValue:null,description:"",name:"onCaretPositionChange",required:!1,type:{name:"((position: number) => void)"}},onFocus:{defaultValue:null,description:"",name:"onFocus",required:!1,type:{name:"((event: FocusEvent<Element, Element>) => void)"}},onBlur:{defaultValue:null,description:"",name:"onBlur",required:!1,type:{name:"((event: FocusEvent<Element, Element>) => void)"}},onClick:{defaultValue:null,description:"",name:"onClick",required:!1,type:{name:"((event: MouseEvent<Element, MouseEvent>) => void)"}},onDoubleClick:{defaultValue:null,description:"",name:"onDoubleClick",required:!1,type:{name:"((event: MouseEvent<Element, MouseEvent>) => void)"}},onMouseDown:{defaultValue:null,description:"",name:"onMouseDown",required:!1,type:{name:"((event: MouseEvent<Element, MouseEvent>) => void)"}},onMouseUp:{defaultValue:null,description:"",name:"onMouseUp",required:!1,type:{name:"((event: MouseEvent<Element, MouseEvent>) => void)"}},onMouseEnter:{defaultValue:null,description:"",name:"onMouseEnter",required:!1,type:{name:"((event: MouseEvent<Element, MouseEvent>) => void)"}},onMouseLeave:{defaultValue:null,description:"",name:"onMouseLeave",required:!1,type:{name:"((event: MouseEvent<Element, MouseEvent>) => void)"}},onMouseOver:{defaultValue:null,description:"",name:"onMouseOver",required:!1,type:{name:"((event: MouseEvent<Element, MouseEvent>) => void)"}},onKeyDown:{defaultValue:null,description:"",name:"onKeyDown",required:!1,type:{name:"((event: KeyboardEvent<Element>) => void)"}},onKeyUp:{defaultValue:null,description:"",name:"onKeyUp",required:!1,type:{name:"((event: KeyboardEvent<Element>) => void)"}}}}}catch{}const rt={title:"Examples/MultiStyledInput",component:re,parameters:{layout:"centered"},tags:["autodocs"],argTypes:{exampleWidth:{control:"number",description:"The width of the example"},exampleHeight:{control:"number",description:"The height of the example"},className:{description:"class name for custom class"},style:{description:"custom styling"}},args:{onItemSelected:A(),onChange:A(),onCaretPositionChange:A(),onFocus:A(),onBlur:A(),onClick:A(),onDoubleClick:A(),onMouseDown:A(),onMouseUp:A(),onMouseEnter:A(),onMouseLeave:A(),onMouseOver:A(),onKeyDown:A(),onKeyUp:A()}},J={args:{exampleHeight:600,exampleWidth:1e3,style:{backgroundColor:"blue",borderRadius:"30px"}}};var ge,ye,ve;J.parameters={...J.parameters,docs:{...(ge=J.parameters)==null?void 0:ge.docs,source:{originalSource:`{
  args: {
    exampleHeight: 600,
    exampleWidth: 1000,
    style: {
      backgroundColor: 'blue',
      borderRadius: '30px'
    }
  }
}`,...(ve=(ye=J.parameters)==null?void 0:ye.docs)==null?void 0:ve.source}}};const it=["Primary"];export{J as Primary,it as __namedExportsOrder,rt as default};
