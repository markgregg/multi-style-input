import{f as L}from"./index-Dj6nxAlZ.js";import{j as N}from"./jsx-runtime-DFKZ3ixi.js";import{R as h,r as O}from"./index-SSXOyoI7.js";const ue=e=>{let t;const n=new Set,u=(f,S)=>{const D=typeof f=="function"?f(t):f;if(!Object.is(D,t)){const M=t;t=S??(typeof D!="object"||D===null)?D:Object.assign({},t,D),n.forEach(c=>c(t,M))}},m=()=>t,p={setState:u,getState:m,getInitialState:()=>i,subscribe:f=>(n.add(f),()=>n.delete(f))},i=t=e(u,m,p);return p},De=e=>e?ue(e):ue,_e=e=>e;function xe(e,t=_e){const n=h.useSyncExternalStore(e.subscribe,()=>t(e.getState()),()=>t(e.getInitialState()));return h.useDebugValue(n),n}const ce=e=>{const t=De(e),n=u=>xe(t,u);return Object.assign(n,t),n},X=e=>e?ce(e):ce,Ce=h.createContext(),z=(e,t)=>{const n=e(h.useContext(Ce));if(n===null)throw new Error("useState must be used within StateProvider");return xe(n,t)},se=e=>z(t=>t.configStore,e),ie=e=>z(t=>t.decoratedBlockStore,e),le=e=>z(t=>t.viewPortStore,e),Ne=e=>z(t=>t.managedStore,e),be=e=>z(t=>t.optionsStore,e),Me=(e,t)=>{h.useEffect(()=>{const n=new ResizeObserver(()=>{const{width:u,height:m}=(e==null?void 0:e.getBoundingClientRect())??{};t(u??0,m??0)});if(e){n.observe(e);const{width:u,height:m}=(e==null?void 0:e.getBoundingClientRect())??{};t(u??0,m??0)}return()=>{e&&n.unobserve(e)}},[e])},de=(e,t)=>{for(let n=0;n<t.length;n+=1)if(n>e.length||n>t.length||e[n]!==t[n])return n;return t.length},pe=e=>{if(!e)return 0;const t=document.getSelection();if(t&&t.rangeCount>0){let n=0;const u=t.getRangeAt(0),m=(C,a)=>{for(let p=0;p<C.childNodes.length;p+=1){const i=C.childNodes[p];if(i===a)return n+u.endOffset+((i.textContent??"").trim()===`
`?1:0);if(i&&i.nodeName==="#text"){const f=(i.textContent??"").length;n+=f}if(i.childNodes.length>0){const f=m(i,a);if(f)return f}}return null};return m(e,u.endContainer)??0}return 0},we=(e,t)=>{if(t!==-1){let n=0;const u=a=>{for(let p=0;p<a.childNodes.length;p+=1){const i=a.childNodes[p];if(i&&i.nodeName==="#text"){const f=(i.textContent??"").length;if(n+=f,t<n)return i}if(i.childNodes.length>0){const f=u(i);if(f)return f}}return null},m=u(e);if(m){const a=document.getSelection();a&&a.setPosition(m,t-(n-(m.textContent??"").length));return}const C=document.getSelection();if(C){const a=Se(e);a&&a.nodeName==="#text"&&C.setPosition(a,(a.textContent??"").length>0?(a.textContent??"").length:0)}}},Se=e=>{for(let t=e.childNodes.length-1;t>=0;t-=1){const n=e.childNodes[t];if(n.childNodes.length>0){const u=Se(n);if(u)return u}else if((n.textContent??"").length>0)return n}return null},Pe=(e,t)=>{if(t.length===0)return null;for(let n=1;;n+=1){if(t.length===n)return null;if(e.length===n||t[t.length-n]!==e[e.length-n])return t.length-(n-1)}},Ie=e=>{let t=0;for(let n=e.length-1;n>0&&e[n]===`
`;n-=1)t+=1;return t>2?e.substring(0,e.length-(t-2)):e},q={ArrowRight:"ArrowRight",ArrowLeft:"ArrowLeft",ArrowUp:"ArrowUp",ArrowDown:"ArrowDown",PageUp:"PageUp",PageDown:"PageDown",Home:"Home",End:"End",Enter:"Enter",Tab:"Tab",c:"c",C:"C",x:"x",X:"X",v:"v",V:"V",z:"z",Z:"Z",Space:" ",Escape:"Escape"},Ve="_editElement_1v3pw_1",qe={editElement:Ve},G=h.memo(()=>{const e=h.useRef(null),{onItemSelected:t,onChange:n,onCaretPositionChange:u,onFocus:m,onBlur:C,onClick:a,onDoubleClick:p,onMouseDown:i,onMouseUp:f,onMouseEnter:S,onMouseLeave:D,onMouseOver:M,onKeyDown:c,onKeyUp:V}=se(d=>d),{setPosition:E,setSize:v}=le(d=>d),{parentElement:_,text:A,caretPosition:B,dropDown:I,setParantElement:r,updateText:o,updateCaretPosition:s}=ie(d=>d),{activeOption:l,next:g,prev:y}=be(d=>d);Me(e.current,v),h.useEffect(()=>{!_&&e.current&&r(e.current)},[_]);const x=h.useCallback(d=>{d&&r(d),e.current=d},[]),w=h.useCallback(()=>{var d;if(n){const P=Ie(((d=e.current)==null?void 0:d.textContent)??""),T=de(A,P),F=pe(e.current);s(F),o(P),n(P,T)}},[n,o]),R=h.useCallback(()=>{e.current&&E(e.current.scrollTop,e.current.scrollLeft)},[E]),b=h.useCallback(d=>{d.clipboardData.types.includes("text/html")&&d.preventDefault()},[]),j=h.useCallback(d=>{const P=document.getSelection();if(P){const T=P.getRangeAt(0);if(T.startContainer!==T.endContainer||T.startOffset!==T.endOffset){d.clipboardData.setData("text/plain",P.toString()),d.preventDefault();return}}e.current&&(d.clipboardData.setData("text/plain",e.current.textContent??""),d.preventDefault())},[]),H=h.useCallback(d=>{const P=document.getSelection();if(P){const T=P.getRangeAt(0);if(T.startContainer!==T.endContainer||T.startOffset!==T.endOffset){const F=P.toString();d.clipboardData.setData("text/plain",F);const $=A.replace(F,"");if(o($),n){const J=de(A,$);n($,J)}d.preventDefault()}}},[A,n]),k=h.useCallback(d=>{if((d.key===q.ArrowLeft||d.key===q.ArrowRight||d.key===q.ArrowUp||d.key===q.ArrowDown||d.key===q.Home||d.key===q.End||d.key===q.PageDown||d.key===q.PageUp)&&u){const P=pe(e.current);P!==B&&s(P)}V&&V(d)},[]),U=h.useCallback(d=>{let P=!1;switch(d.key){case q.Escape:break;case q.Z:case q.z:break;case q.ArrowUp:I&&(y(),P=!0);break;case q.ArrowDown:I&&(g(),P=!0);break;case q.Space:case q.Enter:I&&t&&(t(I.id??"",l),P=!0);break}P?(d.preventDefault(),d.stopPropagation()):c&&c(d)},[I,l,c,g,y,t]);return N.jsx("pre",{id:"si-edit-element",className:qe.editElement,contentEditable:"true",ref:x,autoCapitalize:"none",autoCorrect:"off",spellCheck:"false",onInput:w,onScroll:R,onPaste:b,onCopy:j,onCut:H,onKeyUp:k,onKeyDown:U,onFocus:m,onBlur:C,onClick:a,onDoubleClick:p,onMouseDown:i,onMouseUp:f,onMouseEnter:S,onMouseLeave:D,onMouseOver:M})});try{G.displayName="EditElement",G.__docgenInfo={description:"",displayName:"EditElement",props:{}}}catch{}const Oe="_dropDown_ypmzi_1",Ae={dropDown:Oe},Y=h.memo(()=>{const{DropDownComponent:e,onItemSelected:t}=se(v=>v),{id:n,top:u,left:m,dropDown:{activation:C,options:a=[]}={}}=ie(v=>v.dropDown)??{},{top:p,left:i}=le(v=>v),{activeOptionIdx:f,setOptions:S,setActiveOption:D}=be(v=>v);h.useEffect(()=>{S(a)},[a]);const M=h.useCallback(()=>{},[C]),c=h.useCallback(()=>{},[C]),V=h.useCallback(v=>{t&&t(n??"",v)},[]),E=h.useCallback(v=>{D(v)},[]);return N.jsx("div",{className:Ae.dropDown,style:{top:(u??0)-p,left:(m??0)-i},children:e&&N.jsx(e,{onMouseLeftDropDown:M,onMouseEnteredDropDown:c,options:a,onOptionSelected:V,activeIndex:f,onActiveOptionChanged:E})})});try{Y.displayName="DropDown",Y.__docgenInfo={description:"",displayName:"DropDown",props:{}}}catch{}const Le="_enhancedInput_8fybe_1",ke="_editArea_8fybe_12",fe={enhancedInput:Le,editArea:ke},Q=h.memo(()=>{const{tabIndex:e,className:t,style:n}=se(c=>c),{customElements:u,dropDown:m,caretPosition:C,update:a}=ie(c=>c),{top:p,left:i,height:f}=le(c=>c),{text:S,textBlocks:D}=Ne(c=>c);h.useEffect(()=>a(S,D),[S,D]);const M=h.useMemo(()=>u.filter(c=>c.top-p+c.height>=0&&c.top-i<=f),[u,f,p,i]);return N.jsx("div",{tabIndex:e??-1,id:"si-enhanced-Input",className:[fe.enhancedInput,t].join(" "),style:n,children:N.jsxs("div",{className:fe.editArea,children:[N.jsx(G,{}),M.map(c=>N.jsx("div",{style:{position:"absolute",lineHeight:"normal",left:c.left-i,top:c.top-p,width:c.width,height:c.top-p+c.height<f?c.height:f-(c.top-p)},children:N.jsx(c.Decorator,{id:c.id,text:c.text,start:c.start,end:c.end,cursorPosition:C,textElement:c.textElement,customProps:c.customProps,style:c.decoratorStyle})},c.id)),m&&N.jsx(Y,{})]})})});try{Q.displayName="EnhancedInput",Q.__docgenInfo={description:"",displayName:"EnhancedInput",props:{}}}catch{}const Te=({tabIndex:e,className:t,style:n,DropDownComponent:u,onItemSelected:m,onChange:C,onCaretPositionChange:a,onFocus:p,onBlur:i,onClick:f,onDoubleClick:S,onMouseDown:D,onMouseUp:M,onMouseEnter:c,onMouseLeave:V,onMouseOver:E,onKeyDown:v,onKeyUp:_})=>X(()=>({tabIndex:e,className:t,style:n,DropDownComponent:u,onItemSelected:m,onChange:C,onCaretPositionChange:a,onFocus:p,onBlur:i,onClick:f,onDoubleClick:S,onMouseDown:D,onMouseUp:M,onMouseEnter:c,onMouseLeave:V,onMouseOver:E,onKeyDown:v,onKeyUp:_})),Re=({onBlockClick:e,onBlockDblClick:t,onBlockMouseDown:n,onBlockMouseUp:u,onBlockMouseEnter:m,onBlockMouseLeave:C,onBlockMouseOver:a})=>{const p=(r,o,s)=>({type:"t",start:r,end:o,text:s}),i=(r,o,s,l,g,y)=>({type:"s",start:r,end:o,text:s,id:l,style:g,existingStyle:y}),f=(r,o,s)=>{let l=0;return o.sort((y,x)=>y.start-x.start),r.split(`
`).map(y=>{let x=l;const w=o.filter(({start:R,length:b})=>R>=l&&R+b<=l+y.length).flatMap(({id:R,start:b,length:j,style:H})=>{const k=s.find(d=>d.id===R),U=[...b>x?[p(x,x+(b-x-1),y.substring(x-l,b-l))]:[],i(b,b+j-1,y.substring(b-l,b-l+j),R,H,k==null?void 0:k.style)];return x=b+j,U});return x<l+y.length?w.push(p(x,x+(y.length-(x-l)),`${y.substring(x-l)}
`)):w.push(p(x,x,`
`)),l+=y.length+1,w})},S=(r,o,s,l)=>{const g=f(o,s,l);let y=0;for(;y<g.length;){const x=g[y],w=y<r.childNodes.length?r.childNodes[y]:null;y===0&&r.childNodes.length>0&&w&&w.nodeName==="#text"?x.length===1&&x[0].type==="t"?w.textContent!==x[0].text&&(w.textContent=x[0].text):(D(r,x,w),r.removeChild(w)):w?w.nodeName!=="DIV"?(D(r,x,w),r.removeChild(w)):M(x,w):D(r,x),y+=1}for(;y<r.childNodes.length;)r.removeChild(r.childNodes[y])},D=(r,o,s=null)=>{const l=document.createElement("div");_(r,l,s),o.length===0?c(l,`
`):o.forEach(g=>{g.type==="t"?c(l,g.text):V(l,g)})},M=(r,o)=>{if(r.length===1&&r[0].type==="t"&&o.childNodes.length===1&&o.childNodes[0].nodeName==="#text"){o.childNodes[0].textContent!==r[0].text&&(o.childNodes[0].textContent=r[0].text);return}let s=0;for(;s<r.length;){const l=r[s],g=s<o.childNodes.length?o.childNodes[s]:null;l.type==="s"?g&&l.id!==g.id?E(o,s,l.id)?(o.removeChild(g),v(o.childNodes[s],l)):V(o,l,g):g&&g.id===l.id?v(g,l):V(o,l,g):g?o.nodeName!=="#text"?(c(o,l.text,g),o.removeChild(g)):g.textContent!==l.text&&(g.textContent=l.text):c(o,l.text,g),s+=1}for(;s<o.childNodes.length;)o.removeChild(o.childNodes[s])},c=(r,o,s=null)=>{const l=document.createTextNode(o);_(r,l,s)},V=(r,{id:o,text:s,style:l},g=null)=>{const y=document.createElement("span");y.textContent=s,y.id=o,l&&(y.style.cssText=l),_(r,y,g),A(y)},E=(r,o,s)=>r.childNodes.length>o+1&&"id"in r.childNodes[o+1]&&s===r.childNodes[o+1].id,v=(r,{text:o,style:s,existingStyle:l})=>{r.textContent!==o&&(r.textContent=o),s!==l&&(r.style.cssText=s??"")},_=(r,o,s=null)=>{s?r.insertBefore(o,s):r.appendChild(o)},A=r=>{const o=b=>({event:b,id:r.id,blockText:r.textContent??""}),s=b=>{e==null||e(o(b))},l=b=>{t==null||t(o(b))},g=b=>{n==null||n(o(b))},y=b=>{u==null||u(o(b))},x=b=>{m==null||m(o(b))},w=b=>{C==null||C(o(b))},R=b=>{a==null||a(o(b))};e&&r.addEventListener("click",s),t&&r.addEventListener("dblclick",l),n&&r.addEventListener("mousedown",g),u&&r.addEventListener("mouseup",y),m&&r.addEventListener("mouseenter",x),C&&r.addEventListener("mouseleave",w),a&&r.addEventListener("mouseover",R)},B=(r,o)=>{if(o.length===0)return!1;const{start:s,length:l}=o.sort((g,y)=>g.start-y.start)[o.length-1];return s+l+1>=r.length},I=(r,o)=>({top:r.offsetTop+(o?r.offsetHeight+2:0),left:r.offsetLeft,width:r.offsetWidth,height:r.offsetHeight});return X(r=>({text:"",textBlocks:[],parentElement:null,customElements:[],dropDown:null,caretPosition:0,setParantElement:o=>r(()=>({parentElement:o})),updateText:o=>r(()=>({text:o})),updateCaretPosition:o=>r(()=>({caretPosition:o})),update:(o,s)=>r(l=>{const{parentElement:g,text:y,textBlocks:x,caretPosition:w}=l;if(!g||y.length>1&&y===o&&JSON.stringify(x)===JSON.stringify(s)&&!B(y,x)&&y[y.length-1]!==`
`)return{};S(g,o,s,x);const R=Pe(y,o)??w;we(g,R);const b=s.filter(k=>"Decorator"in k).map(k=>{const{id:U,start:d,length:P,Decorator:T,clasName:F,decoratorStyle:$,customProps:J}=k,W=document.getElementById(U);if(!W)return null;const ae=W.textContent??"";return{id:U,text:ae,start:d,end:d+ae.length,length:P,Decorator:T,textElement:W,clasName:F,decoratorStyle:$,customProps:J,...I(W,!1)}}).filter(k=>k!==null),{id:j,dropDown:H}=s.find(k=>"dropDown"in k)??{};return{text:o,textBlocks:s,customElements:b,dropDown:j?{id:j,dropDown:H,...I(document.getElementById(j),!0)}:null}})}))},je=()=>X(e=>({top:0,left:0,width:0,height:0,setPosition:(t,n)=>e(()=>({top:t,left:n})),setSize:(t,n)=>e(()=>({width:t,height:n}))})),Ue=({text:e,textBlocks:t})=>X(()=>({text:e,textBlocks:t})),Fe=()=>X(e=>({options:[],activeOption:"",activeOptionIdx:0,setOptions:t=>e(()=>({options:t,activeOption:t[0],activeOptionIdx:0})),setActiveOption:t=>e(n=>({activeOption:n.options[t],activeOptionIdx:t})),next:()=>e(t=>{const n=t.activeOptionIdx<t.options.length-1?t.activeOptionIdx+=1:0;return{activeOption:t.options[n],activeOptionIdx:n}}),prev:()=>e(t=>{const n=t.activeOptionIdx>0?t.activeOptionIdx-=1:t.options.length-1;return{activeOption:t.options[n],activeOptionIdx:n}})})),ee=h.memo(({props:e,children:t})=>{const{onBlockClick:n,onBlockDblClick:u,onBlockMouseDown:m,onBlockMouseUp:C,onBlockMouseEnter:a,onBlockMouseLeave:p,onBlockMouseOver:i,onChange:f,text:S,textBlocks:D}=e,M=h.useMemo(()=>Te(e),[f]),c=h.useMemo(()=>Re(e),[n,u,m,C,a,p,i]),V=h.useMemo(je,[]),E=h.useMemo(()=>Ue(e),[S,D]),v=h.useMemo(Fe,[]),_=h.useMemo(()=>({configStore:M,decoratedBlockStore:c,viewPortStore:V,managedStore:E,optionsStore:v}),[M,c,V,E,v]);return N.jsx(Ce.Provider,{value:_,children:t})});try{ee.displayName="StateProvider",ee.__docgenInfo={description:"",displayName:"StateProvider",props:{props:{defaultValue:null,description:"",name:"props",required:!0,type:{name:"MultiStyleInputProps"}}}}}catch{}const te=h.memo(e=>N.jsx(ee,{props:e,children:N.jsx(Q,{})}));try{te.displayName="MultiStyleInput",te.__docgenInfo={description:"",displayName:"MultiStyleInput",props:{text:{defaultValue:null,description:"",name:"text",required:!0,type:{name:"string"}},textBlocks:{defaultValue:null,description:"",name:"textBlocks",required:!0,type:{name:"DecoratedBlock[]"}},tabIndex:{defaultValue:null,description:"",name:"tabIndex",required:!1,type:{name:"number"}},className:{defaultValue:null,description:"",name:"className",required:!1,type:{name:"string"}},style:{defaultValue:null,description:"",name:"style",required:!1,type:{name:"CSSProperties"}},DropDownComponent:{defaultValue:null,description:"",name:"DropDownComponent",required:!1,type:{name:"ComponentType<DropDownProps>"}},onItemSelected:{defaultValue:null,description:"",name:"onItemSelected",required:!1,type:{name:"((id: string, option: string) => void)"}},onChange:{defaultValue:null,description:"",name:"onChange",required:!1,type:{name:"((text: string, position: number) => void)"}},onCaretPositionChange:{defaultValue:null,description:"",name:"onCaretPositionChange",required:!1,type:{name:"((position: number) => void)"}},onFocus:{defaultValue:null,description:"",name:"onFocus",required:!1,type:{name:"((event: FocusEvent<Element, Element>) => void)"}},onBlur:{defaultValue:null,description:"",name:"onBlur",required:!1,type:{name:"((event: FocusEvent<Element, Element>) => void)"}},onClick:{defaultValue:null,description:"",name:"onClick",required:!1,type:{name:"((event: MouseEvent<Element, MouseEvent>) => void)"}},onDoubleClick:{defaultValue:null,description:"",name:"onDoubleClick",required:!1,type:{name:"((event: MouseEvent<Element, MouseEvent>) => void)"}},onMouseDown:{defaultValue:null,description:"",name:"onMouseDown",required:!1,type:{name:"((event: MouseEvent<Element, MouseEvent>) => void)"}},onMouseUp:{defaultValue:null,description:"",name:"onMouseUp",required:!1,type:{name:"((event: MouseEvent<Element, MouseEvent>) => void)"}},onMouseEnter:{defaultValue:null,description:"",name:"onMouseEnter",required:!1,type:{name:"((event: MouseEvent<Element, MouseEvent>) => void)"}},onMouseLeave:{defaultValue:null,description:"",name:"onMouseLeave",required:!1,type:{name:"((event: MouseEvent<Element, MouseEvent>) => void)"}},onMouseOver:{defaultValue:null,description:"",name:"onMouseOver",required:!1,type:{name:"((event: MouseEvent<Element, MouseEvent>) => void)"}},onKeyDown:{defaultValue:null,description:"",name:"onKeyDown",required:!1,type:{name:"((event: KeyboardEvent<Element>) => void)"}},onKeyUp:{defaultValue:null,description:"",name:"onKeyUp",required:!1,type:{name:"((event: KeyboardEvent<Element>) => void)"}},onBlockClick:{defaultValue:null,description:"",name:"onBlockClick",required:!1,type:{name:"((event: SmartElementMouseEvent) => void)"}},onBlockDblClick:{defaultValue:null,description:"",name:"onBlockDblClick",required:!1,type:{name:"((event: SmartElementMouseEvent) => void)"}},onBlockMouseDown:{defaultValue:null,description:"",name:"onBlockMouseDown",required:!1,type:{name:"((event: SmartElementMouseEvent) => void)"}},onBlockMouseUp:{defaultValue:null,description:"",name:"onBlockMouseUp",required:!1,type:{name:"((event: SmartElementMouseEvent) => void)"}},onBlockMouseEnter:{defaultValue:null,description:"",name:"onBlockMouseEnter",required:!1,type:{name:"((event: SmartElementMouseEvent) => void)"}},onBlockMouseLeave:{defaultValue:null,description:"",name:"onBlockMouseLeave",required:!1,type:{name:"((event: SmartElementMouseEvent) => void)"}},onBlockMouseOver:{defaultValue:null,description:"",name:"onBlockMouseOver",required:!1,type:{name:"((event: SmartElementMouseEvent) => void)"}}}}}catch{}const Ke="_dropDownList_oiquj_1",Be={dropDownList:Ke},ne=({options:e,onOptionSelected:t,activeIndex:n,onActiveOptionChanged:u,onMouseEnteredDropDown:m,onMouseLeftDropDown:C})=>{const a=h.useCallback(i=>{u&&u(i)},[u]),p=h.useCallback(i=>{t(i)},[t]);return N.jsx("div",{id:"drop-down-list",className:Be.dropDownList,onMouseEnter:m,onMouseLeave:C,children:N.jsx("ul",{"aria-activedescendant":e[n],role:"listbox",tabIndex:-1,children:e.map((i,f)=>N.jsx("li",{"aria-selected":n===f,role:"option",tabIndex:0,onClick:()=>p(i),onMouseEnter:()=>a(f),children:i},i))})})};try{ne.displayName="DropDown",ne.__docgenInfo={description:"",displayName:"DropDown",props:{options:{defaultValue:null,description:"",name:"options",required:!0,type:{name:"string[]"}},onOptionSelected:{defaultValue:null,description:"",name:"onOptionSelected",required:!0,type:{name:"(option: string) => void"}},activeIndex:{defaultValue:null,description:"",name:"activeIndex",required:!0,type:{name:"number"}},onActiveOptionChanged:{defaultValue:null,description:"",name:"onActiveOptionChanged",required:!0,type:{name:"(activeIndex: number) => void"}},onMouseEnteredDropDown:{defaultValue:null,description:"",name:"onMouseEnteredDropDown",required:!0,type:{name:"() => void"}},onMouseLeftDropDown:{defaultValue:null,description:"",name:"onMouseLeftDropDown",required:!0,type:{name:"() => void"}}}}}catch{}const He=/[A-Z]/,$e=/[A-Z]{2}[-]{0,1}[0-9]/,Xe=/[A-Z]{2}[-]{0,1}[0-9A-Z]{8}[-]{0,1}[0-9]/,me=["FR0127717439","FR0127733782","IT0004534522","IT0004534530","IT0004534548","IT0004534555","IT0004534571","IT0004534589","IT0004534605","IT0004545890","IT0004548282","IT0004548290","IT0004548308","FR0127694406","FR0127694349","FR0013053329","FR0127739029","XS2421195848","XS2430047212","XS2430287362","XS2430287529","XS2398750922","XS2343528571","XS2344772426","XS2499654643","AT000B066055","AT000B088455","AT0000A20877","XS1966819226","XS1966037860","AT000B126958","AT000B014642","AT000B126966","AT0000A282J7","AT0000A28603","AT0000A286S9","AT000B093190"],he=["ABD","BDA","CAT","DE","EGG","FAN","GAF","HI","INN","JAK","LON","MON","NO","OPO","PAR","QAR","RAT","SEA","TUN","URN","VAN","WX","YY","ZEN"],ze=e=>{if(e.length>2&&!e.includes(".")){const t=e.toLocaleLowerCase()[e.length-1];if(t==="m"||t==="k"){const n=Number(e.substring(0,e.length-1));return!Number.isNaN(Number(n))}return!Number.isNaN(Number(e))}return!1},We=e=>Text.length>2&&e.includes(".")?!Number.isNaN(Number.parseFloat(e)):!1,Ze=(e,t,n)=>{for(let u=n??e.length-1;u>=0;u-=1){const m=e[u];if(t.includes(m))return u+1}},Je="_pillDecorator_2bp86_1",Ge={pillDecorator:Je},K=({textElement:e,text:t,start:n,end:u,cursorPosition:m,clasName:C,style:a})=>{const p=O.useRef(null),[i,f]=O.useState(!1),[S,D]=O.useState(0),[M,c]=O.useState(0),V=O.useMemo(()=>i||m>=n&&m<=u?"hidden":"visible",[i,m,n,u]),E=O.useCallback(_=>{f(!0),_.stopPropagation()},[i,f]),v=O.useCallback(_=>{_.target!==e&&f(!1)},[f,e]);return O.useEffect(()=>(i&&document.addEventListener("mouseover",v),()=>{i&&document.removeEventListener("mouseover",v)}),[i]),O.useEffect(()=>{p.current&&(D((p.current.offsetHeight-e.offsetHeight)/2*-1),c((p.current.offsetWidth-e.offsetWidth)/2*-1))},[e]),N.jsx("div",{ref:p,className:[Ge.pillDecorator,C??""].join(" "),style:{top:S,left:M,visibility:V,...a},onMouseEnter:E,children:t})};try{K.displayName="PillDecorator",K.__docgenInfo={description:"",displayName:"PillDecorator",props:{id:{defaultValue:null,description:"",name:"id",required:!0,type:{name:"string"}},clasName:{defaultValue:null,description:"",name:"clasName",required:!1,type:{name:"string"}},style:{defaultValue:null,description:"",name:"style",required:!1,type:{name:"CSSProperties"}},text:{defaultValue:null,description:"",name:"text",required:!0,type:{name:"string"}},start:{defaultValue:null,description:"",name:"start",required:!0,type:{name:"number"}},end:{defaultValue:null,description:"",name:"end",required:!0,type:{name:"number"}},cursorPosition:{defaultValue:null,description:"",name:"cursorPosition",required:!0,type:{name:"number"}},textElement:{defaultValue:null,description:"",name:"textElement",required:!0,type:{name:"HTMLElement"}},customProps:{defaultValue:null,description:"",name:"customProps",required:!1,type:{name:"any"}}}}}catch{}const Ye="_titleDecorator_c7tdt_1",Qe={titleDecorator:Ye};function oe({customProps:e,textElement:t,clasName:n,style:u}){var M;const m=O.useRef(null),[C,a]=O.useState("hidden"),p=O.useRef(null),{title:i,position:f="top"}=e,S=O.useCallback(()=>{setTimeout(()=>{a("visible"),p.current&&(clearTimeout(p.current),p.current=null)},1)},[a]),D=O.useCallback(()=>{p.current=setTimeout(()=>{a("hidden"),p.current=null},200)},[a]);return O.useEffect(()=>(t.addEventListener("mouseenter",S),t.addEventListener("mouseleave",D),()=>{t.removeEventListener("mouseenter",S),t.removeEventListener("mouseleave",D)}),[t]),N.jsx("div",{ref:m,className:[Qe.titleDecorator,n??""].join(" "),style:{visibility:C,top:f==="top"?(((M=m.current)==null?void 0:M.clientHeight)??18)*-1:t.offsetHeight,left:0,...u},onMouseEnter:()=>S(),onMouseLeave:()=>D(),children:N.jsx("span",{style:{fontSize:"9px",padding:"2px 8px 2px 7px"},children:i})})}try{oe.displayName="TitleDecorator",oe.__docgenInfo={description:"",displayName:"TitleDecorator",props:{id:{defaultValue:null,description:"",name:"id",required:!0,type:{name:"string"}},clasName:{defaultValue:null,description:"",name:"clasName",required:!1,type:{name:"string"}},style:{defaultValue:null,description:"",name:"style",required:!1,type:{name:"CSSProperties"}},text:{defaultValue:null,description:"",name:"text",required:!0,type:{name:"string"}},start:{defaultValue:null,description:"",name:"start",required:!0,type:{name:"number"}},end:{defaultValue:null,description:"",name:"end",required:!0,type:{name:"number"}},cursorPosition:{defaultValue:null,description:"",name:"cursorPosition",required:!0,type:{name:"number"}},textElement:{defaultValue:null,description:"",name:"textElement",required:!0,type:{name:"HTMLElement"}},customProps:{defaultValue:null,description:"",name:"customProps",required:!1,type:{name:"any"}}}}}catch{}const et="_smartFilterPage_1v2cj_1",tt="_filterBar_1v2cj_8",nt="_grid_1v2cj_12",ge={smartFilterPage:et,filterBar:tt,grid:nt},re=({className:e,style:t,onChange:n,onCaretPositionChange:u,onItemSelected:m,...C})=>{const[a,p]=h.useState(""),[i,f]=h.useState([]),S=h.useCallback((E,v,_)=>{const A=v===0?v:Ze(E,` 
\r	`,v)??0,B=E.substring(A).split(/ |\n|\r|\t/),I=i.filter(s=>s.start+s.length<A),r="font-style: italic;font-weight: bold;";let o=A;B.forEach(s=>{if(s.match(Xe))_&&(me.includes(s.toUpperCase())?I.push({id:`isin${o}`,start:o,length:s.length,style:r,Decorator:K,decoratorStyle:{backgroundColor:"rgb(68, 68, 68)",color:"white"}}):I.push({id:`isin${o}`,start:o,length:s.length,style:r,Decorator:K,decoratorStyle:{backgroundColor:"rgb(154, 61, 55)",color:"white"}}));else if(he.includes(s))_&&I.push({id:`ticker${o}`,start:o,length:s.length,style:r,Decorator:K,decoratorStyle:{backgroundColor:"rgb(68, 68, 68)",color:"white"}});else if(ze(s))_&&I.push({id:`vol${o}`,start:o,length:s.length,style:r,customProps:"Size",Decorator:oe,decoratorStyle:{backgroundColor:"rgb(68, 68, 68)",color:"white",fontWeight:"bold"}});else if(We(s))_&&I.push({id:`prc${o}`,start:o,length:s.length,style:r,Decorator:K,decoratorStyle:{backgroundColor:"rgb(68, 68, 68)",color:"white",fontWeight:"bold"}});else if(v>=o&&v<=o+s.trimEnd().length&&E[v]!==""){if(s.match($e)){const l=me.filter(g=>g.includes(s));l.length>0&&I.push({id:"bad-edit",start:o,length:s.length,style:"font-style: italic;font-weight: bold;",dropDown:{activation:"cursorposition",options:l.slice(0,5)}})}else if(s.match(He)){const l=he.filter(g=>g.includes(s));l.length>0&&I.push({id:"bad-edit",start:o,length:s.length,style:"font-style: italic;font-weight: bold;",dropDown:{activation:"cursorposition",options:l.slice(0,5)}})}}o=o+s.length+1}),JSON.stringify(I)!==JSON.stringify(i)&&f(I),a!==E&&p(E)},[a,i]),D=h.useCallback((E,v)=>{S(E,v,!0),n&&n(E,v)},[S,a,i]),M=h.useCallback(E=>{S(a,E),u&&u(E)},[S,a,i]),c=h.useMemo(()=>i.map(E=>E.customProps?{...E,customProps:{title:E.customProps,position:"top"}}:E),[i]),V=h.useCallback((E,v)=>{const _=i.find(A=>A.id===E);if(_){const A=`${a.substring(0,_.start)}${v} ${a.substring(_.start+_.length)}`;S(A,_.start,!0)}m&&m(E,v)},[i,a,S]);return N.jsxs("div",{className:ge.smartFilterPage,children:[N.jsx("h4",{children:"Multi Style Input"}),N.jsx("div",{className:ge.filterBar,children:N.jsx(te,{className:e,style:t,text:a,textBlocks:c,onChange:D,onCaretPositionChange:M,DropDownComponent:ne,onItemSelected:V,...C})})]})};try{re.displayName="MultiStyleInput",re.__docgenInfo={description:"Primary UI component for user interaction",displayName:"MultiStyleInput",props:{exampleWidth:{defaultValue:null,description:"",name:"exampleWidth",required:!1,type:{name:"number"}},exampleHeight:{defaultValue:null,description:"",name:"exampleHeight",required:!1,type:{name:"number"}},tabIndex:{defaultValue:null,description:"",name:"tabIndex",required:!1,type:{name:"number"}},className:{defaultValue:null,description:"",name:"className",required:!1,type:{name:"string"}},style:{defaultValue:null,description:"",name:"style",required:!1,type:{name:"CSSProperties"}},onItemSelected:{defaultValue:null,description:"",name:"onItemSelected",required:!1,type:{name:"((id: string, option: string) => void)"}},onChange:{defaultValue:null,description:"",name:"onChange",required:!1,type:{name:"((text: string, position: number) => void)"}},onCaretPositionChange:{defaultValue:null,description:"",name:"onCaretPositionChange",required:!1,type:{name:"((position: number) => void)"}},onFocus:{defaultValue:null,description:"",name:"onFocus",required:!1,type:{name:"((event: FocusEvent<Element, Element>) => void)"}},onBlur:{defaultValue:null,description:"",name:"onBlur",required:!1,type:{name:"((event: FocusEvent<Element, Element>) => void)"}},onClick:{defaultValue:null,description:"",name:"onClick",required:!1,type:{name:"((event: MouseEvent<Element, MouseEvent>) => void)"}},onDoubleClick:{defaultValue:null,description:"",name:"onDoubleClick",required:!1,type:{name:"((event: MouseEvent<Element, MouseEvent>) => void)"}},onMouseDown:{defaultValue:null,description:"",name:"onMouseDown",required:!1,type:{name:"((event: MouseEvent<Element, MouseEvent>) => void)"}},onMouseUp:{defaultValue:null,description:"",name:"onMouseUp",required:!1,type:{name:"((event: MouseEvent<Element, MouseEvent>) => void)"}},onMouseEnter:{defaultValue:null,description:"",name:"onMouseEnter",required:!1,type:{name:"((event: MouseEvent<Element, MouseEvent>) => void)"}},onMouseLeave:{defaultValue:null,description:"",name:"onMouseLeave",required:!1,type:{name:"((event: MouseEvent<Element, MouseEvent>) => void)"}},onMouseOver:{defaultValue:null,description:"",name:"onMouseOver",required:!1,type:{name:"((event: MouseEvent<Element, MouseEvent>) => void)"}},onKeyDown:{defaultValue:null,description:"",name:"onKeyDown",required:!1,type:{name:"((event: KeyboardEvent<Element>) => void)"}},onKeyUp:{defaultValue:null,description:"",name:"onKeyUp",required:!1,type:{name:"((event: KeyboardEvent<Element>) => void)"}}}}}catch{}const it={title:"Examples/MultiStyleInput",component:re,parameters:{layout:"centered"},tags:["autodocs"],argTypes:{exampleWidth:{control:"number",description:"The width of the example"},exampleHeight:{control:"number",description:"The height of the example"},className:{description:"class name for custom class"},style:{description:"custom styling"}},args:{onItemSelected:L(),onChange:L(),onCaretPositionChange:L(),onFocus:L(),onBlur:L(),onClick:L(),onDoubleClick:L(),onMouseDown:L(),onMouseUp:L(),onMouseEnter:L(),onMouseLeave:L(),onMouseOver:L(),onKeyDown:L(),onKeyUp:L()}},Z={args:{exampleHeight:600,exampleWidth:1e3,style:{backgroundColor:"blue",borderRadius:"30px"}}};var ye,ve,Ee;Z.parameters={...Z.parameters,docs:{...(ye=Z.parameters)==null?void 0:ye.docs,source:{originalSource:`{
  args: {
    exampleHeight: 600,
    exampleWidth: 1000,
    style: {
      backgroundColor: 'blue',
      borderRadius: '30px'
    }
  }
}`,...(Ee=(ve=Z.parameters)==null?void 0:ve.docs)==null?void 0:Ee.source}}};const lt=["Primary"];export{Z as Primary,lt as __namedExportsOrder,it as default};
